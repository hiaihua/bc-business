-- bc营运管理子系统的建表脚本,所有表名须附带前缀"BS_"
-- 运行此脚本之前需先运行平台的建表脚本framework.db.postgresql.create.sql

-- 创建数据转换用的序列，开始于100000
CREATE sequence DC_SEQUENCE
    minvalue 1
    start with 100000
    increment by 1
    cache 20;

-- 数据转换记录
CREATE TABLE DC_RECORD(
  TYPE_         VARCHAR(255) NOT NULL,
  FROM_ID       INTEGER NOT NULL,
  TO_ID         INTEGER NOT NULL,
  FROM_TABLE    VARCHAR(255),
  TO_TABLE      VARCHAR(255),
  CREATE_DATE   TIMESTAMP NOT NULL,
  REMARK        VARCHAR(4000),
  MODIFIED_DATE TIMESTAMP
);
COMMENT ON TABLE DC_RECORD IS '数据转换记录';
COMMENT ON COLUMN DC_RECORD.TYPE_ IS '类型';
COMMENT ON COLUMN DC_RECORD.FROM_ID IS '旧表数据ID';
COMMENT ON COLUMN DC_RECORD.TO_ID IS '新表数据的ID';
COMMENT ON COLUMN DC_RECORD.FROM_TABLE IS '旧数据表名';
COMMENT ON COLUMN DC_RECORD.TO_TABLE IS '新数据表名';
COMMENT ON COLUMN DC_RECORD.CREATE_DATE IS '创建时间';
COMMENT ON COLUMN DC_RECORD.REMARK IS '备注说明';
COMMENT ON COLUMN DC_RECORD.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE DC_RECORD ADD CONSTRAINT BSUK_RECORD UNIQUE (TYPE_, FROM_ID);

-- 车队信息
CREATE TABLE BS_MOTORCADE (
   ID                   INTEGER           NOT NULL,
   UID_                 VARCHAR(36),
   CODE                 VARCHAR(255)        NOT NULL,
   NAME                 VARCHAR(255)        NOT NULL,
   STATUS_              INTEGER            NOT NULL,
   UNIT_ID              INTEGER           NOT NULL,
   PRINCIPAL_ID         INTEGER,
   PRINCIPAL_NAME       VARCHAR(255),
   TYPE_                INTEGER            NOT NULL,
   PID                  INTEGER,
   DESC_                VARCHAR(4000),
   PAYMENT_DATE         VARCHAR(255),
   COLOR                VARCHAR(255), ADDRESS              VARCHAR(255),
   PHONE                VARCHAR(255),
   FAX                  VARCHAR(255),
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   CONSTRAINT BSPK_MOTORCADE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_MOTORCADE IS '车队';
COMMENT ON COLUMN BS_MOTORCADE.CODE IS '编码';
COMMENT ON COLUMN BS_MOTORCADE.NAME IS '名称';
COMMENT ON COLUMN BS_MOTORCADE.STATUS_ IS '状态：0-在案,1-已禁用,2-已删除';
COMMENT ON COLUMN BS_MOTORCADE.UNIT_ID IS '所属单位ID';
COMMENT ON COLUMN BS_MOTORCADE.PRINCIPAL_ID IS '负责人ID';
COMMENT ON COLUMN BS_MOTORCADE.PRINCIPAL_NAME IS '负责人姓名';
COMMENT ON COLUMN BS_MOTORCADE.TYPE_ IS '类别：0-分队,1-分组';
COMMENT ON COLUMN BS_MOTORCADE.PID IS '所属父类ID';
COMMENT ON COLUMN BS_MOTORCADE.DESC_ IS '备注';
COMMENT ON COLUMN BS_MOTORCADE.PAYMENT_DATE IS '缴费日';
COMMENT ON COLUMN BS_MOTORCADE.COLOR IS '颜色';
COMMENT ON COLUMN BS_MOTORCADE.ADDRESS IS '地址';
COMMENT ON COLUMN BS_MOTORCADE.PHONE IS '电话';
COMMENT ON COLUMN BS_MOTORCADE.FAX IS '传真';
COMMENT ON COLUMN BS_MOTORCADE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_MOTORCADE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_MOTORCADE.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_MOTORCADE.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_MOTORCADE ADD CONSTRAINT BSFK_MOTORCADE_AUTHORID FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_MOTORCADE ADD CONSTRAINT BSFK_MOTORCADE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_MOTORCADE ADD CONSTRAINT BSFK_MOTORCADE_PID FOREIGN KEY (PID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_MOTORCADE ADD CONSTRAINT BSFK_MOTORCADE_PRINCIPAL FOREIGN KEY (PRINCIPAL_ID)
      REFERENCES BC_IDENTITY_ACTOR (ID);
ALTER TABLE BS_MOTORCADE ADD CONSTRAINT BSFK_MOTORCADE_UNIT FOREIGN KEY (UNIT_ID)
      REFERENCES BC_IDENTITY_ACTOR (ID);
CREATE INDEX BSIDX_MOTORCADE_STATUS ON BS_MOTORCADE (STATUS_);

-- 车队历史车辆数
CREATE TABLE BS_MOTORCADE_CARQUANTITY (
   ID                   INTEGER           NOT NULL,
   MOTORCADE_ID         INTEGER           NOT NULL,
   YEAR_                NUMERIC(4)            NOT NULL,
   MONTH_               NUMERIC(2)            NOT NULL,
   QUANTITY             INTEGER           NOT NULL,
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   CONSTRAINT BSPK_CARQUANTITY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_MOTORCADE_CARQUANTITY IS '车队历史车辆数';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.MOTORCADE_ID IS '所属车队ID';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.YEAR_ IS '年份';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.MONTH_ IS '月份';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.QUANTITY IS '车辆数';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_MOTORCADE_CARQUANTITY.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_MOTORCADE_CARQUANTITY ADD CONSTRAINT BSFK_CARQUANTITY_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_MOTORCADE_CARQUANTITY ADD CONSTRAINT BSFK_CARQUANTITY_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_MOTORCADE_CARQUANTITY ADD CONSTRAINT BSFK_CARQUANTITY_MOTORCADE FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);


-- 证件
create table BS_CERT (
    ID INTEGER NOT NULL,
    STATUS_ INTEGER NOT NULL,
    UID_ VARCHAR(36) NOT NULL,
    TYPE_ INTEGER NOT NULL,
    CERT_CODE VARCHAR(255) NOT NULL,
    CERT_NAME VARCHAR(255) NOT NULL,
    CERT_FULL_NAME VARCHAR(255),
    LICENCER VARCHAR(255),
    ISSUE_DATE TIMESTAMP,
    START_DATE TIMESTAMP,
    END_DATE TIMESTAMP,
    EXT_STR1 VARCHAR(255),
    EXT_STR2 VARCHAR(255),
    EXT_STR3 VARCHAR(255),
    EXT_NUM1 INTEGER,
    EXT_NUM2 INTEGER,
    EXT_NUM3 INTEGER,
    FILE_DATE TIMESTAMP NOT NULL,
    AUTHOR_ID INTEGER NOT NULL,
    MODIFIER_ID INTEGER ,
    MODIFIED_DATE TIMESTAMP,
    CONSTRAINT BSPK_CERT primary key (ID)
);
COMMENT ON TABLE BS_CERT IS '证件';
COMMENT ON COLUMN BS_CERT.STATUS_ IS '状态：0-启用中,1-已禁用,2-已删除';
COMMENT ON COLUMN BS_CERT.CERT_CODE IS '证件号';
COMMENT ON COLUMN BS_CERT.TYPE_ IS '证件类型：居民身份证、机动车驾驶证、从业资格证、服务资格证、驾驶培训证、机动车行驶证、道路运输证';
COMMENT ON COLUMN BS_CERT.CERT_NAME IS '证件简称';
COMMENT ON COLUMN BS_CERT.CERT_FULL_NAME IS '证件全称';
COMMENT ON COLUMN BS_CERT.LICENCER IS '发证机关';
COMMENT ON COLUMN BS_CERT.START_DATE IS '生效日期';
COMMENT ON COLUMN BS_CERT.ISSUE_DATE IS '发证日期';
COMMENT ON COLUMN BS_CERT.END_DATE IS '到期日期';
COMMENT ON COLUMN BS_CERT.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CERT.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CERT.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CERT.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_CERT ADD CONSTRAINT BSFK_CERT_AUTHORID FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CERT ADD CONSTRAINT BSFK_CERT_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CERT_CODE ON BS_CERT (CERT_CODE ASC);
CREATE INDEX BSIDX_CERT_NAME ON BS_CERT (CERT_NAME ASC);

-- 证件:居民身份证
create table BS_CERT_IDENTITY (
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    SEX NUMERIC(1),
    BIRTHDATE TIMESTAMP,
    NATION VARCHAR(255),
    ADDRESS VARCHAR(500),
    CONSTRAINT BSPK_CERT_IDENTITY primary key (ID)
);
COMMENT ON TABLE BS_CERT_IDENTITY IS '证件:居民身份证';
COMMENT ON COLUMN BS_CERT_IDENTITY.NAME IS '姓名';
COMMENT ON COLUMN BS_CERT_IDENTITY.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CERT_IDENTITY.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CERT_IDENTITY.NATION IS '民族';
COMMENT ON COLUMN BS_CERT_IDENTITY.ADDRESS IS '住址';
ALTER TABLE BS_CERT_IDENTITY ADD CONSTRAINT BSFK_CERT4IDENTITY_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);

-- 证件:机动车驾驶证
create table BS_CERT_DRIVING (
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    SEX NUMERIC(1),
    BIRTHDATE TIMESTAMP,
    NATION VARCHAR(255),
    ADDRESS VARCHAR(500),
    MODEL VARCHAR(255),
    RECEIVEDATE TIMESTAMP,
    VALIDFOR VARCHAR(255),
    ARCHIVENO VARCHAR(255),
    RECORD VARCHAR(255),
    CONSTRAINT BSPK_CERT_DRIVING primary key (ID)
);
COMMENT ON TABLE BS_CERT_DRIVING IS '证件:机动车驾驶证';
COMMENT ON COLUMN BS_CERT_DRIVING.NAME IS '姓名';
COMMENT ON COLUMN BS_CERT_DRIVING.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CERT_DRIVING.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CERT_DRIVING.NATION IS '国籍';
COMMENT ON COLUMN BS_CERT_DRIVING.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_DRIVING.MODEL IS '准驾车型';
COMMENT ON COLUMN BS_CERT_DRIVING.RECEIVEDATE IS '初次领证日期';
COMMENT ON COLUMN BS_CERT_DRIVING.VALIDFOR IS '有效期限';
COMMENT ON COLUMN BS_CERT_DRIVING.ARCHIVENO IS '档案编号';
COMMENT ON COLUMN BS_CERT_DRIVING.RECORD IS '记录';
ALTER TABLE BS_CERT_DRIVING ADD CONSTRAINT BSFK_CERT4DRIVING_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);

-- 证件:从业资格证
create table BS_CERT_CYZG (
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    SEX NUMERIC(1),
    BIRTHDATE TIMESTAMP,
    NATION VARCHAR(255),
    ADDRESS VARCHAR(500),
    SCOPE_ VARCHAR(255),
    IDENTITY_NO VARCHAR(255),
    SERVICE_UNIT VARCHAR(500),
    CONSTRAINT BSPK_CERT_CYZG primary key (ID)
);
COMMENT ON TABLE BS_CERT_CYZG IS '证件:从业资格证';
COMMENT ON COLUMN BS_CERT_CYZG.NAME IS '姓名';
COMMENT ON COLUMN BS_CERT_CYZG.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CERT_CYZG.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CERT_CYZG.NATION IS '国籍';
COMMENT ON COLUMN BS_CERT_CYZG.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_CYZG.SCOPE_ IS '从业资格';
COMMENT ON COLUMN BS_CERT_CYZG.IDENTITY_NO IS '身份证件号';
COMMENT ON COLUMN BS_CERT_CYZG.SERVICE_UNIT IS '服务单位';
ALTER TABLE BS_CERT_CYZG ADD CONSTRAINT BSFK_CERT4CYZG_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);

-- 证件:服务资格证
create table BS_CERT_FWZG (
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    SEX NUMERIC(1),
    BIRTHDATE TIMESTAMP,
    NATION VARCHAR(255),
    ADDRESS VARCHAR(500),
    LEVEL_ VARCHAR(255),
    SERVICE_UNIT VARCHAR(500),
    CONSTRAINT BSPK_CERT_FWZG primary key (ID)
);
COMMENT ON TABLE BS_CERT_FWZG IS '证件:服务资格证';
COMMENT ON COLUMN BS_CERT_FWZG.NAME IS '姓名';
COMMENT ON COLUMN BS_CERT_FWZG.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CERT_FWZG.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CERT_FWZG.NATION IS '国籍';
COMMENT ON COLUMN BS_CERT_FWZG.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_FWZG.LEVEL_ IS '等级';
COMMENT ON COLUMN BS_CERT_FWZG.SERVICE_UNIT IS '服务单位';
ALTER TABLE BS_CERT_FWZG ADD CONSTRAINT BSFK_CERT4FWZG_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);

-- 证件:驾驶培训证
create table BS_CERT_JSPX (
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    SEX NUMERIC(1),
    BIRTHDATE TIMESTAMP,
    NATION VARCHAR(255),
    ADDRESS VARCHAR(500),
    DOMAIN VARCHAR(255),
    TRAIN_DATE TIMESTAMP,
    TRAIN_HOUR NUMERIC(3),
    GRADE1 NUMERIC(3),
    GRADE2 VARCHAR(10),
    GRADE3 VARCHAR(10),
    IDENTITY_NO VARCHAR(255),
    CONSTRAINT BSPK_CERT_JSPX primary key (ID)
);
COMMENT ON TABLE BS_CERT_JSPX IS '证件:驾驶培训证';
COMMENT ON COLUMN BS_CERT_JSPX.NAME IS '姓名';
COMMENT ON COLUMN BS_CERT_JSPX.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CERT_JSPX.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CERT_JSPX.NATION IS '国籍';
COMMENT ON COLUMN BS_CERT_JSPX.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_JSPX.DOMAIN IS '培训专业';
COMMENT ON COLUMN BS_CERT_JSPX.TRAIN_DATE IS '培训时间';
COMMENT ON COLUMN BS_CERT_JSPX.TRAIN_HOUR IS '培训学时';
COMMENT ON COLUMN BS_CERT_JSPX.GRADE1 IS '理论知识考核成绩';
COMMENT ON COLUMN BS_CERT_JSPX.GRADE2 IS '操作技能考核成绩';
COMMENT ON COLUMN BS_CERT_JSPX.GRADE3 IS '评定成绩';
COMMENT ON COLUMN BS_CERT_JSPX.IDENTITY_NO IS '身份证件号';
ALTER TABLE BS_CERT_JSPX ADD CONSTRAINT BSFK_CERT4JSPX_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);

-- 证件:道路运输证
CREATE TABLE BS_CERT_ROADTRANSPORT(
	ID                   INTEGER NOT NULL,
	FACTORY              VARCHAR(255),
	PLATE                VARCHAR(255),
	OWNER                VARCHAR(255),
	ADDRESS              VARCHAR(255),
	BS_CERT_NO           VARCHAR(255),
	SEAT                 VARCHAR(255),
	DIM_LEN              INTEGER,
	DIM_WIDTH            INTEGER,
	DIM_HEIGHT           INTEGER,
	SCOPE_               VARCHAR(255),
	LEVEL_               VARCHAR(255),
	DESC_                VARCHAR(255),
  	CONSTRAINT BSPK_CERT_ROADTRANSPORT PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CERT_ROADTRANSPORT IS '证件：道路运输证';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.FACTORY IS '品牌型号，如“桑塔纳SVW7182QQD”';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.PLATE IS '车牌及号码，如“粤AC4X74”';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.OWNER IS '业户名称';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.BS_CERT_NO IS '经营许可证号';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.SEAT IS '吨（座）位';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.DIM_LEN IS '外廓尺寸：长，单位MM';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.DIM_WIDTH IS '外廓尺寸：宽，单位MM';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.DIM_HEIGHT IS '外廓尺寸：高，单位MM';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.SCOPE_ IS '经营范围';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.LEVEL_ IS '技术等级';
COMMENT ON COLUMN BS_CERT_ROADTRANSPORT.DESC_ IS '备注';
ALTER TABLE BS_CERT_ROADTRANSPORT ADD CONSTRAINT BSFK_CERT4ROADTRANSPORT_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);
  
-- 证件:机动车行驶证
CREATE TABLE BS_CERT_VEHICELICENSE(
	ID                   INTEGER NOT NULL,
	FACTORY              VARCHAR(255),
	PLATE                VARCHAR(255),
	OWNER                VARCHAR(255),
	ADDRESS              VARCHAR(255),
	USE_CHARACTER        VARCHAR(255),
	VEHICE_TYPE          VARCHAR(255),
	VIN                  VARCHAR(255),
	ENGINE_NO            VARCHAR(255),
	REGISTER_DATE        TIMESTAMP,
	ARCHIVE_NO           VARCHAR(255),
	DIM_LEN              INTEGER,
	DIM_WIDTH            INTEGER,
	DIM_HEIGHT           INTEGER,
	TOTAL_WEIGHT         INTEGER,
	CURB_WEIGHT          INTEGER,
	ACCESS_WEIGHT        INTEGER,
	PULL_WEIGHT          INTEGER,
	ACCESS_COUNT         INTEGER,
	SCRAP_DATE           TIMESTAMP,
	DESC_                VARCHAR(500),
	RECORD_              VARCHAR(500),
	CONSTRAINT BSPK_CERT_VEHICELICENSE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CERT_VEHICELICENSE IS '证件：机动车行驶证';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.FACTORY IS '品牌型号，如“桑塔纳SVW7182QQD”';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.PLATE IS '车牌及号码，如“粤AC4X74”';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.OWNER IS '业户名称';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.ADDRESS IS '地址';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.USE_CHARACTER IS '使用性质';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.VEHICE_TYPE IS '车辆类型';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.VIN IS '车辆识别代号';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.ENGINE_NO IS '发动机号码';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.REGISTER_DATE IS '注册日期';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.ARCHIVE_NO IS '档案编号';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.DIM_LEN IS '外廓尺寸：长，单位MM';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.DIM_WIDTH IS '外廓尺寸：宽，单位MM';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.DIM_HEIGHT IS '外廓尺寸：高，单位MM';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.TOTAL_WEIGHT IS '总质量，单位KG';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.CURB_WEIGHT IS '整备质量，单位KG';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.ACCESS_WEIGHT IS '核定载质量，单位KG';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.PULL_WEIGHT IS '准牵引总质量，单位KG';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.ACCESS_COUNT IS '核定载人数';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.SCRAP_DATE IS '强制报废日期';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.DESC_ IS '备注';
COMMENT ON COLUMN BS_CERT_VEHICELICENSE.RECORD_ IS '检验记录';
ALTER TABLE BS_CERT_VEHICELICENSE ADD CONSTRAINT BSFK_CERT4VEHICELICENSE_CERT FOREIGN KEY (ID) 
	REFERENCES BS_CERT (ID);


-- 司机责任人
create table BS_CARMAN (
    ID 						INTEGER NOT NULL,
    UID_ 					VARCHAR(36) NOT NULL,
    STATUS_ 				INTEGER NOT NULL,
    TYPE_ 					INTEGER default 0 NOT NULL,
    NAME 					VARCHAR(255) NOT NULL,
    ORDER_ 					VARCHAR(100),
    SEX 					INTEGER default 0 NOT NULL,
    WORK_DATE 				TIMESTAMP,
    ORIGIN 					VARCHAR(255),
    REGION_  				NUMERIC(1),
    HOUSE_TYPE 				VARCHAR(255),
    BIRTHDATE 				TIMESTAMP,
    FORMER_UNIT 			VARCHAR(500),
    ADDRESS 				VARCHAR(500),
    ADDRESS1 				VARCHAR(500),
    PHONE 					VARCHAR(500),
    PHONE1 					VARCHAR(500),
    MODEL_                	VARCHAR(255),
	LEVEL_ 					VARCHAR(255),
    CERT_IDENTITY        	VARCHAR(255),
    CERT_DRIVING         	VARCHAR(255),
    CERT_DRIVING_ARCHIVE 	VARCHAR(255),
    CERT_DRIVING_FIRST_DATE TIMESTAMP,
    CERT_DRIVING_START_DATE TIMESTAMP,
    CERT_DRIVING_END_DATE 	TIMESTAMP,
    CERT_FWZG            	VARCHAR(255),
	CERT_FWZG_ID            VARCHAR(255),
    CERT_CYZG            	VARCHAR(255),
    OLD_UNIT_NAME        	VARCHAR(255),
    GZ                   	boolean default false,
    ACCESS_CERTS         	VARCHAR(255),
    DESC_                	VARCHAR(4000),
    CHARGER					VARCHAR(4000),
    MAIN_CAR_ID 			INTEGER,
    CARINFO 				VARCHAR(4000),
    MOVE_TYPE 				INTEGER,
    MOVE_DATE 				TIMESTAMP,
    SHIFTWORK_END_DATE 		TIMESTAMP,
    CLASSES 				INTEGER,
    FILE_DATE 				TIMESTAMP NOT NULL,
    AUTHOR_ID 				INTEGER NOT NULL,
    MODIFIER_ID 			INTEGER,
    MODIFIED_DATE 			TIMESTAMP,
    CONSTRAINT BSPK_CARMAN primary key (ID)
);
COMMENT ON TABLE BS_CARMAN IS '司机责任人';
COMMENT ON COLUMN BS_CARMAN.UID_ IS 'UID';
COMMENT ON COLUMN BS_CARMAN.STATUS_ IS '状态：-1-草稿,0-启用中,1-已禁用,2-已删除';
COMMENT ON COLUMN BS_CARMAN.TYPE_ IS '类别:0-司机,1-责任人,2-司机和责任人';
COMMENT ON COLUMN BS_CARMAN.NAME IS '姓名';
COMMENT ON COLUMN BS_CARMAN.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_CARMAN.SEX IS '性别：0-未设置,1-男,2-女';
COMMENT ON COLUMN BS_CARMAN.WORK_DATE IS '入职日期';
COMMENT ON COLUMN BS_CARMAN.ORIGIN IS '籍贯';
COMMENT ON COLUMN BS_CARMAN.REGION_ IS '区域：0-未定义，1-本市，2-本省，3-外省';
COMMENT ON COLUMN BS_CARMAN.HOUSE_TYPE IS '户口类型';
COMMENT ON COLUMN BS_CARMAN.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CARMAN.FORMER_UNIT IS '入职原单位';
COMMENT ON COLUMN BS_CARMAN.ADDRESS IS '身份证住址';
COMMENT ON COLUMN BS_CARMAN.ADDRESS1 IS '暂住地址';
COMMENT ON COLUMN BS_CARMAN.PHONE IS '电话';
COMMENT ON COLUMN BS_CARMAN.PHONE1 IS '电话1';
COMMENT ON COLUMN BS_CARMAN.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CARMAN.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CARMAN.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CARMAN.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CARMAN.MODEL_ IS '准驾车型';
COMMENT ON COLUMN BS_CARMAN.LEVEL_ IS '司机等级';
COMMENT ON COLUMN BS_CARMAN.CERT_IDENTITY IS '身份证号';
COMMENT ON COLUMN BS_CARMAN.CERT_DRIVING IS '驾驶证号';
COMMENT ON COLUMN BS_CARMAN.CERT_DRIVING_ARCHIVE IS '驾驶证档案号';
COMMENT ON COLUMN BS_CARMAN.CERT_DRIVING_FIRST_DATE IS '初次领证日期';
COMMENT ON COLUMN BS_CARMAN.CERT_DRIVING_START_DATE IS '驾驶证起效日期';
COMMENT ON COLUMN BS_CARMAN.CERT_DRIVING_END_DATE IS '驾驶证过期日期';
COMMENT ON COLUMN BS_CARMAN.CERT_FWZG IS '服务资格证号';
COMMENT ON COLUMN BS_CARMAN.CERT_FWZG_ID IS '服务资格证号';
COMMENT ON COLUMN BS_CARMAN.CERT_CYZG IS '从业资格证号';
COMMENT ON COLUMN BS_CARMAN.OLD_UNIT_NAME IS '分支机构：用于历史数据的保存';
COMMENT ON COLUMN BS_CARMAN.GZ IS '驾驶证是否广州:0-否,1-是';
COMMENT ON COLUMN BS_CARMAN.ACCESS_CERTS IS '已考取证件：历史数据保存';
COMMENT ON COLUMN BS_CARMAN.DESC_ IS '备注';
COMMENT ON COLUMN BS_CARMAN.CHARGER IS '沉余字段：责任人信息';
COMMENT ON COLUMN BS_CARMAN.MAIN_CAR_ID IS '沉余字段：主车辆id';
COMMENT ON COLUMN BS_CARMAN.CARINFO IS '沉余字段：营运车辆';
COMMENT ON COLUMN BS_CARMAN.MOVE_TYPE IS '沉余字段：迁移类型:1-公司到公司(已注销);2-注销未有去向;3-由外公司迁回;4-交回未注销;5-新入职;6-转车队;7-顶班;8-交回后转车';
COMMENT ON COLUMN BS_CARMAN.MOVE_DATE IS '沉余字段：迁移日期(或顶班合同开始日期)';
COMMENT ON COLUMN BS_CARMAN.SHIFTWORK_END_DATE IS '沉余字段：顶班合同期结束日期';
COMMENT ON COLUMN BS_CARMAN.CLASSES IS '沉余字段：营运班次:如0-""、1-正班、2-副班、3-主挂、4-顶班';
ALTER TABLE BS_CARMAN ADD CONSTRAINT BSFK_CARMAN_AUTHOR FOREIGN KEY (AUTHOR_ID) 
	REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CARMAN ADD CONSTRAINT BSFK_CARMAN_MODIFIER FOREIGN KEY (MODIFIER_ID) 
	REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CARMAN_STATUS_FWZG ON BS_CARMAN (STATUS_,CERT_FWZG);
CREATE INDEX BSIDX_CARMAN_STATUS_NAME ON BS_CARMAN (STATUS_,NAME);

-- 司机责任人与证件的关联
CREATE TABLE BS_CARMAN_CERT (
    MAN_ID INTEGER NOT NULL,
    CERT_ID INTEGER NOT NULL,
    CONSTRAINT BSPK_CARMAN_CERT PRIMARY KEY (MAN_ID,CERT_ID)
);
COMMENT ON TABLE BS_CARMAN_CERT IS '司机责任人与证件的关联';
COMMENT ON COLUMN BS_CARMAN_CERT.MAN_ID IS '司机责任人ID';
COMMENT ON COLUMN BS_CARMAN_CERT.CERT_ID IS '证件ID';
ALTER TABLE BS_CARMAN_CERT ADD CONSTRAINT BSFK_CARMANCERT_MAN FOREIGN KEY (MAN_ID) 
	REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_CARMAN_CERT ADD CONSTRAINT BSFK_CARMANCERT_CERT FOREIGN KEY (CERT_ID) 
	REFERENCES BS_CERT (ID);


-- 车辆 
CREATE TABLE BS_CAR (
   ID                   INTEGER           NOT NULL,
   UID_                 VARCHAR(36)       NOT NULL,
   STATUS_              INTEGER           NOT NULL,
   VER_MAJOR            NUMERIC(2),
   VER_MINOR            NUMERIC(3),
   COMPANY        		VARCHAR(255),
   MOTORCADE_ID         INTEGER,
   DRIVER				VARCHAR(4000),
   CHARGER				VARCHAR(4000),
   BS_TYPE              VARCHAR(255),
   CODE                 VARCHAR(255),
   ORIGIN_NO            VARCHAR(255),
   PLATE_TYPE           VARCHAR(255),
   PLATE_NO             VARCHAR(255),
   VIN                  VARCHAR(255),
   RENT_NO              VARCHAR(255),
   FACTORY_TYPE         VARCHAR(255),
   FACTORY_MODEL        VARCHAR(255),
   REGISTER_DATE        TIMESTAMP,
   OPERATE_DATE         TIMESTAMP,
   SCRAP_DATE           TIMESTAMP,
   FACTORY_DATE         TIMESTAMP,
   REGISTER_NO          VARCHAR(255),
   LEVEL_               VARCHAR(255),
   COLOR                VARCHAR(255),
   ENGINE_NO            VARCHAR(255),
   ENGINE_TYPE          VARCHAR(255),
   FUEL_TYPE            VARCHAR(255),
   DISPLACEMENT         INTEGER,
   POWER                NUMERIC(19,2),
   TURN_TYPE            VARCHAR(255),
   TIRE_COUNT           INTEGER,
   TIRE_STANDARD        VARCHAR(255),
   TIRE_FRONT_DISTANCE  VARCHAR(255),
   TIRE_BEHIND_DISTANCE VARCHAR(255),
   AXIS_DISTANCE        INTEGER,
   AXIS_COUNT           INTEGER,
   PIECE_COUNT          INTEGER,
   DIM_LEN              INTEGER,
   DIM_WIDTH            INTEGER,
   DIM_HEIGHT           INTEGER,
   TOTAL_WEIGHT         INTEGER,
   ACCESS_WEIGHT        INTEGER,
   ACCESS_COUNT         INTEGER,
   ORIGINAL_VALUE       NUMERIC(19,2),
   INVOICE_NO1          VARCHAR(255),
   INVOICE_NO2          VARCHAR(255),
   PAYMENT_TYPE         VARCHAR(255),
   CERT_NO1             VARCHAR(255),
   CERT_NO2             VARCHAR(255),
   CERT_NO3             VARCHAR(255),
   TAXIMETER_FACTORY    VARCHAR(255),
   TAXIMETER_TYPE       VARCHAR(255),
   TAXIMETER_NO         VARCHAR(255),
   DESC1                VARCHAR(4000),
   DESC2                VARCHAR(4000),
   DESC3                VARCHAR(4000),
   FILE_DATE            TIMESTAMP	NOT NULL,
   AUTHOR_ID            INTEGER		NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   RETURN_DATE        	TIMESTAMP,
   IS_LOGOUT 			BOOLEAN DEFAULT FALSE,
   LOGOUT_REASON		INTEGER DEFAULT 0,
   DISTANCE_SCRAP_MONTH	VARCHAR(20),
   IS_VERIFY 			BOOLEAN DEFAULT FALSE,
   VERIFY_DATE			TIMESTAMP,
   LOGOUT_REMARK		VARCHAR(4000),
	CERT_NO4 				VARCHAR(255),
	LPG_NAME 				VARCHAR(255),
	LPG_MODEL 				VARCHAR(255),
	LPG_GP_MODEL 			VARCHAR(255),
	LPG_GP_ID 				VARCHAR(255),
	LPG_GP_DATE 			TIMESTAMP,
	LPG_JCF_MODEL 			VARCHAR(255),
	LPG_QHQ_MODEL 			VARCHAR(255),
	LPG_PSQ_MODEL 			VARCHAR(255),
	LPG_REFIT_FACTORY 		VARCHAR(255),
	LPG_REFIT_DATE 			TIMESTAMP,
	LPG_INSURANCE_ID 		VARCHAR(255),
	LPG_INSURANCE_STARTDATE	TIMESTAMP,
	LPG_INSURANCE_ENDDATE 	TIMESTAMP,
	CAR_TV_SCREEN 			VARCHAR(255),
   CONSTRAINT BSPK_CAR PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR IS '车辆';
COMMENT ON COLUMN BS_CAR.STATUS_ IS '状态：-1-草稿,0-在案,1-注销,2-报废';
COMMENT ON COLUMN BS_CAR.VER_MAJOR IS '主版本号';
COMMENT ON COLUMN BS_CAR.VER_MINOR IS '次版本号';
COMMENT ON COLUMN BS_CAR.COMPANY IS '所属单位';
COMMENT ON COLUMN BS_CAR.MOTORCADE_ID IS '所属车队ID';
COMMENT ON COLUMN BS_CAR.DRIVER IS '司机信息';
COMMENT ON COLUMN BS_CAR.CHARGER IS '责任人信息';
COMMENT ON COLUMN BS_CAR.BS_TYPE IS '营运性质';
COMMENT ON COLUMN BS_CAR.CODE IS '自编号';
COMMENT ON COLUMN BS_CAR.ORIGIN_NO IS '原车号';
COMMENT ON COLUMN BS_CAR.PLATE_TYPE IS '车牌归属，如“粤A”';
COMMENT ON COLUMN BS_CAR.PLATE_NO IS '车牌号码，如“C4X74”';
COMMENT ON COLUMN BS_CAR.VIN IS '车辆识别代号';
COMMENT ON COLUMN BS_CAR.RENT_NO IS '出租牌号';
COMMENT ON COLUMN BS_CAR.FACTORY_TYPE IS '厂牌类型，如“桑塔纳”';
COMMENT ON COLUMN BS_CAR.FACTORY_MODEL IS '厂牌型号，如“SVW7182QQD”';
COMMENT ON COLUMN BS_CAR.REGISTER_DATE IS '登记日期';
COMMENT ON COLUMN BS_CAR.OPERATE_DATE IS '投产日期';
COMMENT ON COLUMN BS_CAR.SCRAP_DATE IS '报废日期';
COMMENT ON COLUMN BS_CAR.FACTORY_DATE IS '出厂日期';
COMMENT ON COLUMN BS_CAR.REGISTER_NO IS '机动车登记编号';
COMMENT ON COLUMN BS_CAR.LEVEL_ IS '车辆定级';
COMMENT ON COLUMN BS_CAR.COLOR IS '颜色';
COMMENT ON COLUMN BS_CAR.ENGINE_NO IS '发动机号码';
COMMENT ON COLUMN BS_CAR.ENGINE_TYPE IS '发动机类型';
COMMENT ON COLUMN BS_CAR.FUEL_TYPE IS '燃料类型，如“汽油”';
COMMENT ON COLUMN BS_CAR.DISPLACEMENT IS '排量，单位ML';
COMMENT ON COLUMN BS_CAR.POWER IS '功率，单位KW';
COMMENT ON COLUMN BS_CAR.TURN_TYPE IS '转向方式，如“方向盘”';
COMMENT ON COLUMN BS_CAR.TIRE_COUNT IS '轮胎数';
COMMENT ON COLUMN BS_CAR.TIRE_STANDARD IS '轮胎规格';
COMMENT ON COLUMN BS_CAR.TIRE_FRONT_DISTANCE IS '前轮距';
COMMENT ON COLUMN BS_CAR.TIRE_BEHIND_DISTANCE IS '后轮距';
COMMENT ON COLUMN BS_CAR.AXIS_DISTANCE IS '轴距';
COMMENT ON COLUMN BS_CAR.AXIS_COUNT IS '轴数';
COMMENT ON COLUMN BS_CAR.PIECE_COUNT IS '后轴钢板弹簧片数';
COMMENT ON COLUMN BS_CAR.DIM_LEN IS '外廓尺寸：长，单位MM';
COMMENT ON COLUMN BS_CAR.DIM_WIDTH IS '外廓尺寸：宽，单位MM';
COMMENT ON COLUMN BS_CAR.DIM_HEIGHT IS '外廓尺寸：高，单位MM';
COMMENT ON COLUMN BS_CAR.TOTAL_WEIGHT IS '总质量，单位KG';
COMMENT ON COLUMN BS_CAR.ACCESS_WEIGHT IS '核定载质量，单位KG';
COMMENT ON COLUMN BS_CAR.ACCESS_COUNT IS '核定载人数';
COMMENT ON COLUMN BS_CAR.ORIGINAL_VALUE IS '固定资产原值，单位元';
COMMENT ON COLUMN BS_CAR.INVOICE_NO1 IS '购车发票号';
COMMENT ON COLUMN BS_CAR.INVOICE_NO2 IS '购置税发票号';
COMMENT ON COLUMN BS_CAR.PAYMENT_TYPE IS '缴费日';
COMMENT ON COLUMN BS_CAR.CERT_NO1 IS '购置税证号';
COMMENT ON COLUMN BS_CAR.CERT_NO2 IS '经营权使用证号';
COMMENT ON COLUMN BS_CAR.CERT_NO3 IS '强检证号';
COMMENT ON COLUMN BS_CAR.TAXIMETER_FACTORY IS '计价器制造厂';
COMMENT ON COLUMN BS_CAR.TAXIMETER_TYPE IS '计价器型号';
COMMENT ON COLUMN BS_CAR.TAXIMETER_NO IS '计价器出厂编号';
COMMENT ON COLUMN BS_CAR.DESC1 IS '备注1';
COMMENT ON COLUMN BS_CAR.DESC2 IS '备注2';
COMMENT ON COLUMN BS_CAR.DESC3 IS '备注3';
COMMENT ON COLUMN BS_CAR.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CAR.IS_LOGOUT IS '起动注销程序';
COMMENT ON COLUMN BS_CAR.RETURN_DATE IS '交车日期';
COMMENT ON COLUMN BS_CAR.LOGOUT_REASON IS '注销原因(0-"",1-转蓝归公司,2-转蓝归责任人,3-报废,4-被盗,5-被抢,9-其它),详见car.logout.reason选项的配置';
COMMENT ON COLUMN BS_CAR.DISTANCE_SCRAP_MONTH IS '离报废日期时间';
COMMENT ON COLUMN BS_CAR.IS_VERIFY IS '主管部门核准';
COMMENT ON COLUMN BS_CAR.VERIFY_DATE IS '核准日期';
COMMENT ON COLUMN BS_CAR.LOGOUT_REMARK IS '注销原因';
COMMENT ON COLUMN BS_CAR.CERT_NO4 IS '道路运输证号';
COMMENT ON COLUMN BS_CAR.LPG_NAME IS 'LPG专用装置供应商';
COMMENT ON COLUMN BS_CAR.LPG_MODEL IS 'LPG专用装置品牌型号';
COMMENT ON COLUMN BS_CAR.LPG_GP_MODEL IS 'LPG钢瓶品牌型号';
COMMENT ON COLUMN BS_CAR.LPG_GP_ID IS 'LPG钢瓶编号';
COMMENT ON COLUMN BS_CAR.LPG_GP_DATE IS 'LPG钢瓶出厂日期';
COMMENT ON COLUMN BS_CAR.LPG_JCF_MODEL IS 'LPG集成阀品牌型号';
COMMENT ON COLUMN BS_CAR.LPG_QHQ_MODEL IS 'LPG汽化器品牌型号';
COMMENT ON COLUMN BS_CAR.LPG_PSQ_MODEL IS 'LPG混合/喷射器品牌型号';
COMMENT ON COLUMN BS_CAR.LPG_REFIT_FACTORY IS 'LPG改装厂';
COMMENT ON COLUMN BS_CAR.LPG_REFIT_DATE IS 'LPG改装出厂日期';
COMMENT ON COLUMN BS_CAR.LPG_INSURANCE_ID IS 'LPG保单号';
COMMENT ON COLUMN BS_CAR.LPG_INSURANCE_STARTDATE IS 'LPG保单开始日期';
COMMENT ON COLUMN BS_CAR.LPG_INSURANCE_ENDDATE IS 'LPG保单结束日期';
COMMENT ON COLUMN BS_CAR.CAR_TV_SCREEN IS '车载电视屏';
ALTER TABLE BS_CAR ADD CONSTRAINT BSFK_CAR_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR ADD CONSTRAINT BSFK_CAR_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR ADD CONSTRAINT BSFK_CAR_MOTORCADEID FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CARMAN ADD CONSTRAINT BSFK_CARMAN_MAINCAR FOREIGN KEY (MAIN_CAR_ID) 
	REFERENCES BS_CAR (ID);
CREATE INDEX BSIDX_CAR_STATUS ON BS_CAR (STATUS_);
CREATE INDEX BSIDX_CAR_STATUS_PLATE ON BS_CAR (STATUS_,PLATE_TYPE,PLATE_NO);
CREATE INDEX BSIDX_CAR_STATUS_CODE ON BS_CAR (STATUS_,CODE);
CREATE INDEX BSIDX_CAR_MOTORCADE ON BS_CAR (MOTORCADE_ID);
CREATE INDEX BSIDX_CAR_VIN ON BS_CAR (VIN);
CREATE INDEX BSIDX_CAR_ENGINENO ON BS_CAR (ENGINE_NO);
CREATE INDEX BSIDX_CAR_INVOICENO2 ON BS_CAR (INVOICE_NO2);

-- 车型配置
CREATE TABLE BS_CAR_MODEL (
   ID                   INTEGER           NOT NULL,
   UID_                 VARCHAR(36)       NOT NULL,
   STATUS_              INTEGER           NOT NULL,
   ORDER_         		VARCHAR(100),
   FACTORY_TYPE         VARCHAR(255),
   FACTORY_MODEL        VARCHAR(255),
   ENGINE_TYPE          VARCHAR(255),
   FUEL_TYPE            VARCHAR(255),
   DISPLACEMENT         INTEGER,
   POWER                NUMERIC(19,2),
   TURN_TYPE            VARCHAR(255),
   TIRE_COUNT           INTEGER,
   TIRE_STANDARD        VARCHAR(255),
   TIRE_FRONT_DISTANCE  VARCHAR(255),
   TIRE_BEHIND_DISTANCE VARCHAR(255),
   AXIS_DISTANCE        INTEGER,
   AXIS_COUNT           INTEGER,
   PIECE_COUNT          INTEGER,
   DIM_LEN              INTEGER,
   DIM_WIDTH            INTEGER,
   DIM_HEIGHT           INTEGER,
   TOTAL_WEIGHT         INTEGER,
   ACCESS_WEIGHT        INTEGER,
   ACCESS_COUNT         INTEGER,
   FILE_DATE            TIMESTAMP	NOT NULL,
   AUTHOR_ID            INTEGER		NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   CONSTRAINT BSPK_CAR_MODEL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_MODEL IS '车型配置';
COMMENT ON COLUMN BS_CAR_MODEL.STATUS_ IS '状态：0-在案,1-注销';
COMMENT ON COLUMN BS_CAR_MODEL.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_CAR_MODEL.FACTORY_TYPE IS '厂牌类型，如“桑塔纳”';
COMMENT ON COLUMN BS_CAR_MODEL.FACTORY_MODEL IS '厂牌型号，如“SVW7182QQD”';
COMMENT ON COLUMN BS_CAR_MODEL.ENGINE_TYPE IS '发动机类型';
COMMENT ON COLUMN BS_CAR_MODEL.FUEL_TYPE IS '燃料类型，如“汽油”';
COMMENT ON COLUMN BS_CAR_MODEL.DISPLACEMENT IS '排量，单位ML';
COMMENT ON COLUMN BS_CAR_MODEL.POWER IS '功率，单位KW';
COMMENT ON COLUMN BS_CAR_MODEL.TURN_TYPE IS '转向方式，如“方向盘”';
COMMENT ON COLUMN BS_CAR_MODEL.TIRE_COUNT IS '轮胎数';
COMMENT ON COLUMN BS_CAR_MODEL.TIRE_STANDARD IS '轮胎规格';
COMMENT ON COLUMN BS_CAR_MODEL.TIRE_FRONT_DISTANCE IS '前轮距';
COMMENT ON COLUMN BS_CAR_MODEL.TIRE_BEHIND_DISTANCE IS '后轮距';
COMMENT ON COLUMN BS_CAR_MODEL.AXIS_DISTANCE IS '轴距';
COMMENT ON COLUMN BS_CAR_MODEL.AXIS_COUNT IS '轴数';
COMMENT ON COLUMN BS_CAR_MODEL.PIECE_COUNT IS '后轴钢板弹簧片数';
COMMENT ON COLUMN BS_CAR_MODEL.DIM_LEN IS '外廓尺寸：长，单位MM';
COMMENT ON COLUMN BS_CAR_MODEL.DIM_WIDTH IS '外廓尺寸：宽，单位MM';
COMMENT ON COLUMN BS_CAR_MODEL.DIM_HEIGHT IS '外廓尺寸：高，单位MM';
COMMENT ON COLUMN BS_CAR_MODEL.TOTAL_WEIGHT IS '总质量，单位KG';
COMMENT ON COLUMN BS_CAR_MODEL.ACCESS_WEIGHT IS '核定载质量，单位KG';
COMMENT ON COLUMN BS_CAR_MODEL.ACCESS_COUNT IS '核定载人数';
COMMENT ON COLUMN BS_CAR_MODEL.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_MODEL.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_MODEL.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR_MODEL.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_CAR_MODEL ADD CONSTRAINT BSFK_CAR_MODEL_AUTHORID FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_MODEL ADD CONSTRAINT BSFK_CAR_MODEL_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CAR_MODEL_STATUS ON BS_CAR_MODEL (STATUS_);

-- 车辆与证件的关联
CREATE TABLE BS_CAR_CERT (
    CAR_ID INTEGER NOT NULL,
    CERT_ID INTEGER NOT NULL,
    CONSTRAINT BSPK_CAR_CERT PRIMARY KEY (CAR_ID,CERT_ID)
);
COMMENT ON TABLE BS_CAR_CERT IS '车辆与证件的关联';
COMMENT ON COLUMN BS_CAR_CERT.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CAR_CERT.CERT_ID IS '证件ID';
ALTER TABLE BS_CAR_CERT ADD CONSTRAINT BSFK_CARCERT_CAR FOREIGN KEY (CAR_ID) 
	REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_CERT ADD CONSTRAINT BSFK_CARCERT_CERT FOREIGN KEY (CERT_ID) 
	REFERENCES BS_CERT (ID);


-- 合同
CREATE TABLE BS_CONTRACT (
   ID                   INTEGER           NOT NULL,
   UID_                 VARCHAR(36)         NOT NULL,
   PID                  INTEGER,
   STATUS_              INTEGER            NOT NULL,
   VER_MAJOR            NUMERIC(2),
   VER_MINOR            NUMERIC(3),
   PATCH_NO             VARCHAR(255)        NOT NULL,
   MAIN                 INTEGER            NOT NULL,
   WORD_NO              VARCHAR(255),
   CODE                 VARCHAR(255)        NOT NULL,
   TYPE_                INTEGER            NOT NULL,
   OP_TYPE              INTEGER            NOT NULL,
   TRANSACTOR_ID        INTEGER,
   TRANSACTOR_NAME      VARCHAR(255),
   SIGN_DATE            TIMESTAMP,
   START_DATE           TIMESTAMP                 NOT NULL,
   END_DATE             TIMESTAMP                 NOT NULL,
   STOP_DATE 			TIMESTAMP,
   CONTENT              VARCHAR(4000),
   EXT_STR1             VARCHAR(255),
   EXT_STR2             VARCHAR(4000),
   EXT_STR3             VARCHAR(255),
   EXT_NUM1             INTEGER,
   EXT_NUM2             INTEGER,
   EXT_NUM3             INTEGER,
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   LOGOUT_ID 			INTEGER,
   LOGOUT_DATE 			TIMESTAMP,
   CONSTRAINT PK_BS_CONTRACT PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CONTRACT IS'合同';
COMMENT ON COLUMN BS_CONTRACT.STATUS_ IS'状态：-1-草稿,0-在案,1-注销,2-离职';
COMMENT ON COLUMN BS_CONTRACT.VER_MAJOR IS '主版本号';
COMMENT ON COLUMN BS_CONTRACT.VER_MINOR IS '次版本号';
COMMENT ON COLUMN BS_CONTRACT.PATCH_NO IS '批号';
COMMENT ON COLUMN BS_CONTRACT.MAIN IS '主体: 0-当前版本,1-历史版本';
COMMENT ON COLUMN BS_CONTRACT.WORD_NO IS '文书号';
COMMENT ON COLUMN BS_CONTRACT.CODE IS '合同号';
COMMENT ON COLUMN BS_CONTRACT.TYPE_ IS '合同类型：1-司机劳动合同、2-责任人合同';
COMMENT ON COLUMN BS_CONTRACT.OP_TYPE IS '操作类型: 1-新建,2-维护,3-转车,4-续约,5-离职';
COMMENT ON COLUMN BS_CONTRACT.TRANSACTOR_ID IS '经办人ID';
COMMENT ON COLUMN BS_CONTRACT.TRANSACTOR_NAME IS '经办人姓名';
COMMENT ON COLUMN BS_CONTRACT.SIGN_DATE IS '签订日期';
COMMENT ON COLUMN BS_CONTRACT.START_DATE IS '生效日期';
COMMENT ON COLUMN BS_CONTRACT.END_DATE IS '到期日期';
COMMENT ON COLUMN BS_CONTRACT.STOP_DATE IS '合同实际结束日';
COMMENT ON COLUMN BS_CONTRACT.CONTENT IS '合同内容';
COMMENT ON COLUMN BS_CONTRACT.EXT_STR1 IS '车牌';
COMMENT ON COLUMN BS_CONTRACT.EXT_STR2 IS '司机责任人姓名';
COMMENT ON COLUMN BS_CONTRACT.EXT_STR3 IS '字符扩展域3';
COMMENT ON COLUMN BS_CONTRACT.EXT_NUM1 IS '数字扩展域1';
COMMENT ON COLUMN BS_CONTRACT.EXT_NUM2 IS '数字扩展域2';
COMMENT ON COLUMN BS_CONTRACT.EXT_NUM3 IS '数字扩展域3';
COMMENT ON COLUMN BS_CONTRACT.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CONTRACT.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CONTRACT.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CONTRACT.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CONTRACT.LOGOUT_ID IS '注销人ID';
COMMENT ON COLUMN BS_CONTRACT.LOGOUT_DATE IS '注销时间';
ALTER TABLE BS_CONTRACT ADD CONSTRAINT BSFK_CONTRACT_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CONTRACT ADD CONSTRAINT BSFK_CONTRACT_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CONTRACT ADD CONSTRAINT BSFK_CONTR_REFERENCE_BS_CONTR FOREIGN KEY (PID)
      REFERENCES BS_CONTRACT (ID);
ALTER TABLE BS_CONTRACT ADD CONSTRAINT BSFK_CONTRACT_LOGOUT_ID FOREIGN KEY (LOGOUT_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CONTRACT_STATUS ON BS_CONTRACT (STATUS_);
CREATE INDEX BSIDX_CONTRACT_PATCH_NO ON BS_CONTRACT (PATCH_NO);

-- 司机劳动合同
CREATE TABLE BS_CONTRACT_LABOUR (
   ID                   INTEGER           NOT NULL,
   CERT_NO              VARCHAR(255)        NOT NULL,
   CERT_IDENTITY        VARCHAR(255),
   SEX                  NUMERIC(1),
   BIRTHDATE            TIMESTAMP,
   AGE                  NUMERIC(3),
   ORIGIN               VARCHAR(255),
   REGION_              NUMERIC(1) DEFAULT 0,
   HOUSE_TYPE           VARCHAR(255),
   DOLE                 boolean default false,
   FUNDING              boolean default false,
   INSURCODE            VARCHAR(255),
   JOINDATE             TIMESTAMP,
   REGISTER_DATE        TIMESTAMP,
   INSURE_DATE          TIMESTAMP,
   BS_TYPE              VARCHAR(255),
   BUY_UNIT             VARCHAR(255),
   INSURANCE_TYPE       VARCHAR(255),
   IS_IQAMA             BOOLEAN            DEFAULT FALSE,
   IS_ACCOUNT_BOOK      BOOLEAN            DEFAULT FALSE,
   IS_IDENTITY_CARDS    BOOLEAN            DEFAULT FALSE,
   IS_FPC               BOOLEAN            DEFAULT FALSE,
   IS_UNEMPLOYED        BOOLEAN            DEFAULT FALSE,
   IS_HEALTHFORM        BOOLEAN            DEFAULT FALSE,
   IS_PHOTO             BOOLEAN            DEFAULT FALSE,
   BREEDING_DATE        TIMESTAMP,
   GET_STARTDATE        TIMESTAMP,
   GET_ENDDATE          TIMESTAMP,
   REMARK               VARCHAR(255),
   STOPDATE				TIMESTAMP,
   LEAVEDATE			TIMESTAMP,
   DOMICILE_PLACE 		VARCHAR(255),
   CULTURAL_DEGREE 		VARCHAR(255),
   MARITAL_STATUS 		VARCHAR(255),
   CONSTRAINT PK_BS_CONTRACT_LABOUR PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CONTRACT_LABOUR IS '司机劳动合同';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.CERT_NO IS '资格证号';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.CERT_IDENTITY IS '身份证号';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.SEX IS '性别(0-未设置,1-男,2-女)';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.BIRTHDATE IS '出生日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.AGE IS '年龄: 通过出生年月算出';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.ORIGIN IS '籍贯';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.REGION_ IS '区域：0-未定义，1-本市，2-本省，3-外省';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.HOUSE_TYPE IS '户口类型';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.DOLE IS '个人岗位补贴:0-无,1-有';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.FUNDING IS '对公社保资助';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.INSURCODE IS '社保号';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.JOINDATE IS '参保日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.REGISTER_DATE IS '车辆登记日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.INSURE_DATE IS '申领日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.BS_TYPE IS '营运性质';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.BUY_UNIT IS '购买单位';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.INSURANCE_TYPE IS '社保险种';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_IQAMA IS '是否缴交暂住证';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_ACCOUNT_BOOK IS '是否缴交户口薄';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_IDENTITY_CARDS IS '是否缴交身份证';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_FPC IS '是否缴交计生证';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_UNEMPLOYED IS '是否缴交失业就业手册';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_HEALTHFORM IS '是否缴交体检表';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.IS_PHOTO IS '是否缴交照片';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.BREEDING_DATE IS '生育日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.GET_STARTDATE IS '申领开始日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.GET_ENDDATE IS '申领结束日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.REMARK IS '备注';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.STOPDATE IS '停保日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.LEAVEDATE IS '离职日期';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.DOMICILE_PLACE IS '户口所在地';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.CULTURAL_DEGREE IS '文化程度';
COMMENT ON COLUMN BS_CONTRACT_LABOUR.MARITAL_STATUS IS '婚姻状况';
ALTER TABLE BS_CONTRACT_LABOUR ADD CONSTRAINT BSFK_CONTRACT4LABOUR_CONTRACT FOREIGN KEY (ID)
      REFERENCES BS_CONTRACT (ID);

-- 责任人合同
CREATE TABLE BS_CONTRACT_CHARGER (
   ID                   INTEGER           	NOT NULL,
   SIGN_TYPE            VARCHAR(255)        NOT NULL,
   TAKEBACK_ORIGIN      BOOLEAN            	DEFAULT FALSE,
   INCLUDE_COST         BOOLEAN            	DEFAULT FALSE,
   BS_TYPE				VARCHAR(255),
   PAYMENT_DATE			VARCHAR(255),
   CONTRACT_VERSION_NO 	VARCHAR(255),
   SCRAPTO 				VARCHAR(255),
   OLD_CONTENT          VARCHAR(4000),
   QUITTER_ID			INTEGER,
   AGREEMENT_START_DATE TIMESTAMP,
   AGREEMENT_END_DATE 	TIMESTAMP,
   CONSTRAINT BSPK_CONTRACT_CHARGER PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CONTRACT_CHARGER IS '责任人合同:如承包合同';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.SIGN_TYPE IS '签约类型:如新户';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.PAYMENT_DATE IS '缴费日期';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.TAKEBACK_ORIGIN IS '已经收回原件:0-未1-已';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.INCLUDE_COST IS '包含检审费用:0-不包含,1-包含';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.BS_TYPE IS '合同性质';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.CONTRACT_VERSION_NO IS '合同版本号';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.SCRAPTO IS '残值归属';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.OLD_CONTENT IS '旧合同内容';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.QUITTER_ID IS '提前终止方';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.AGREEMENT_START_DATE IS '履方协议期限(开始日期)';
COMMENT ON COLUMN BS_CONTRACT_CHARGER.AGREEMENT_END_DATE IS '履方协议期限(结束日期)';
ALTER TABLE BS_CONTRACT_CHARGER ADD CONSTRAINT BSFK_CONTRACT4CHARGER_CONTRACT FOREIGN KEY (ID)
      REFERENCES BS_CONTRACT (ID);
ALTER TABLE BS_CONTRACT_CHARGER ADD CONSTRAINT BSFK_CONTRACT4CHARGER_QUITTER FOREIGN KEY (QUITTER_ID)
      REFERENCES BS_CARMAN (ID);
      
-- 司机责任人与合同的关联
CREATE TABLE BS_CARMAN_CONTRACT (
   MAN_ID               INTEGER           NOT NULL,
   CONTRACT_ID          INTEGER           NOT NULL,
   CONSTRAINT BSPK_CARMAN_CONTRACT PRIMARY KEY (MAN_ID, CONTRACT_ID)
);
COMMENT ON TABLE BS_CARMAN_CONTRACT IS '司机责任人与合同的关联';
COMMENT ON COLUMN BS_CARMAN_CONTRACT.MAN_ID IS '司机责任人ID';
COMMENT ON COLUMN BS_CARMAN_CONTRACT.CONTRACT_ID IS '合同ID';
ALTER TABLE BS_CARMAN_CONTRACT ADD CONSTRAINT BSFK_CARMANCONTRACT_CONTRACT FOREIGN KEY (CONTRACT_ID)
      REFERENCES BS_CONTRACT (ID);
ALTER TABLE BS_CARMAN_CONTRACT ADD CONSTRAINT BSFK_CARMANCONTRACT_MAN FOREIGN KEY (MAN_ID)
      REFERENCES BS_CARMAN (ID);
CREATE INDEX BSIDX_CARMANCONTRACT_CONTRACT ON BS_CARMAN_CONTRACT (CONTRACT_ID);
CREATE INDEX BSIDX_CARMANCONTRACT_MAN ON BS_CARMAN_CONTRACT (MAN_ID);

-- 车辆与合同的关联
CREATE TABLE BS_CAR_CONTRACT (
   CAR_ID               INTEGER           NOT NULL,
   CONTRACT_ID          INTEGER           NOT NULL,
   CONSTRAINT BSPK_CAR_CONTRACT PRIMARY KEY (CAR_ID, CONTRACT_ID)
);
COMMENT ON TABLE BS_CAR_CONTRACT IS '车辆与合同的关联';
COMMENT ON COLUMN BS_CAR_CONTRACT.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CAR_CONTRACT.CONTRACT_ID IS '合同ID';
ALTER TABLE BS_CAR_CONTRACT ADD CONSTRAINT BSFK_CARCONTRACT_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_CONTRACT ADD CONSTRAINT BSFK_CARCONTRACT_CONTRACT FOREIGN KEY (CONTRACT_ID)
      REFERENCES BS_CONTRACT (ID);
            
-- 司机营运车辆
CREATE TABLE BS_CAR_DRIVER (
   ID                   INTEGER         NOT NULL,
   PID                  INTEGER,
   STATUS_              INTEGER         NOT NULL,
   DRIVER_ID            INTEGER         NOT NULL,
   CAR_ID               INTEGER         NOT NULL,
   CLASSES              INTEGER         NOT NULL,
   FILE_DATE            TIMESTAMP       NOT NULL,
   AUTHOR_ID            INTEGER         NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   DESC_                VARCHAR(4000),
  CONSTRAINT BSPK_CAR_DRIVER PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_DRIVER IS '司机营运车辆';
COMMENT ON COLUMN BS_CAR_DRIVER.PID IS '相对应的迁移记录id';
COMMENT ON COLUMN BS_CAR_DRIVER.STATUS_ IS '状态：0-启用中,1-已禁用,2-已删除';
COMMENT ON COLUMN BS_CAR_DRIVER.DRIVER_ID IS '司机ID';
COMMENT ON COLUMN BS_CAR_DRIVER.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CAR_DRIVER.CLASSES IS '营运班次:如1-正班、2-副班、3-主挂、4-顶班';
COMMENT ON COLUMN BS_CAR_DRIVER.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_DRIVER.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_DRIVER.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CAR_DRIVER.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR_DRIVER.DESC_ IS '备注';
ALTER TABLE BS_CAR_DRIVER ADD CONSTRAINT BSFK_CARDRIVER_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_DRIVER ADD CONSTRAINT BSFK_CARDRIVER_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_DRIVER ADD CONSTRAINT BSFK_CARDRIVER_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_DRIVER ADD CONSTRAINT BSFK_CARDRIVER_CARMAN FOREIGN KEY (DRIVER_ID)
      REFERENCES BS_CARMAN (ID);
      CREATE INDEX BSIDX_CARDRIVER_CAR ON BS_CAR_DRIVER (CAR_ID);
      CREATE INDEX BSIDX_CARDRIVER_DRIVER ON BS_CAR_DRIVER (DRIVER_ID);
      
 -- 迁移记录
CREATE TABLE BS_CAR_DRIVER_HISTORY (
   ID                   INTEGER           NOT NULL,
   DRIVER_ID            INTEGER  ,
   FROM_CAR_ID             INTEGER,
   FROM_MOTORCADE_ID       INTEGER,
   FROM_CLASSES       NUMERIC(1),
   TO_CAR_ID             INTEGER,
   TO_MOTORCADE_ID       INTEGER,
   TO_CLASSES      NUMERIC(1),
   MOVE_DATE              TIMESTAMP,
   MOVE_TYPE            INTEGER         NOT NULL,  
   FROM_UNIT              VARCHAR(255),
   TO_UNIT                VARCHAR(255),
   HAND_PAPERS_DATE      TIMESTAMP,
   CANCEL_ID            VARCHAR(255),
   END_DATE             TIMESTAMP,
   SHIFTWORK            VARCHAR(255),
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   DESC_                VARCHAR(4000),
  CONSTRAINT BSPK_CAR_DRIVER_HISTORY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_DRIVER_HISTORY IS '迁移记录';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.DRIVER_ID IS '司机ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.FROM_CAR_ID IS '原车辆ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.FROM_MOTORCADE_ID IS '原车队ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.FROM_CLASSES IS '原营运班次:如1-正班、2-副班、3-主挂、4-顶班';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.TO_CAR_ID IS '新车辆ID(或主挂车)';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.TO_MOTORCADE_ID IS '新车队ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.TO_CLASSES IS '新营运班次:如1-正班、2-副班、3-主挂、4-顶班';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.MOVE_DATE IS '迁移日期(或顶班合同的开始日期)';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.MOVE_TYPE IS '迁移类型:1-公司到公司(已注销);2-注销未有去向;3-由外公司迁回;4-交回未注销;5-新入职;6-转车队;7-顶班;8-交回后转车';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.FROM_UNIT IS '原单位';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.TO_UNIT IS '现单位';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.HAND_PAPERS_DATE IS '交证日期';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.CANCEL_ID IS '注销单号';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.END_DATE IS '顶班合同结束日期';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.SHIFTWORK IS '顶班车辆';

COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR_DRIVER_HISTORY.DESC_ IS '备注';
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CARDRIVERHISTORY_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CARDRIVERHISTORY_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CARDRIVER_OLD_CAR FOREIGN KEY (FROM_CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CARDRIVER_NEW_CAR FOREIGN KEY (TO_CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CASEBASE_OLD_MOTORCADE FOREIGN KEY (FROM_MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CASEBASE_NEW_MOTORCADE FOREIGN KEY (TO_MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CAR_DRIVER_HISTORY ADD CONSTRAINT BSFK_CARDRIVERHISTORY_CARMAN FOREIGN KEY (DRIVER_ID)
      REFERENCES BS_CARMAN (ID);
      CREATE INDEX BSIDX_CARDRIVERHISTORY_TO_CAR ON BS_CAR_DRIVER_HISTORY (TO_CAR_ID);
      CREATE INDEX BSIDX_CARDRIVERHISTORY_FR_CAR ON BS_CAR_DRIVER_HISTORY (FROM_CAR_ID);
      CREATE INDEX BSIDX_CARDRIVERHISTORY_DRIVER ON BS_CAR_DRIVER_HISTORY (DRIVER_ID);
           
-- 司机迁移历史
CREATE TABLE BS_CARMAN_HISTORY (
   ID                   INTEGER           NOT NULL,
   TYPE_                VARCHAR(255)        NOT NULL,
   DRIVER_ID            INTEGER           NOT NULL,
   SUBJECT              VARCHAR(1000),
   FROM_CARID           INTEGER,
   TO_CARID             INTEGER           NOT NULL,
   FROM_CLASSES         VARCHAR(255),
   TO_CLASSES           VARCHAR(255)        NOT NULL,
   SHIFT_DATE           TIMESTAMP                 NOT NULL,
   FROM_MOTORCADEID     INTEGER,
   TO_MOTORCADEID       INTEGER           NOT NULL,
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   CONSTRAINT BSPK_CARMAN_HISTORY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CARMAN_HISTORY IS '司机迁移历史';
COMMENT ON COLUMN BS_CARMAN_HISTORY.TYPE_ IS '迁移属性，如新入职';
COMMENT ON COLUMN BS_CARMAN_HISTORY.DRIVER_ID IS '司机ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.SUBJECT IS '其他';
COMMENT ON COLUMN BS_CARMAN_HISTORY.FROM_CARID IS '迁自车辆ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.TO_CARID IS '迁往车辆ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.FROM_CLASSES IS '原营运班次:如正班、副班、顶班';
COMMENT ON COLUMN BS_CARMAN_HISTORY.TO_CLASSES IS '新营运班次:如正班、副班、顶班';
COMMENT ON COLUMN BS_CARMAN_HISTORY.SHIFT_DATE IS '迁移日期';
COMMENT ON COLUMN BS_CARMAN_HISTORY.FROM_MOTORCADEID IS '原车队ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.TO_MOTORCADEID IS '迁往车队ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CARMAN_HISTORY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CARMAN_HISTORY.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CARMAN_HISTORY.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_DRIVER FOREIGN KEY (DRIVER_ID)
      REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_FROMCAR FOREIGN KEY (FROM_CARID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_TOCAR FOREIGN KEY (TO_CARID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_FROMMC FOREIGN KEY (FROM_MOTORCADEID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_TOMC FOREIGN KEY (TO_MOTORCADEID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID); 
ALTER TABLE BS_CARMAN_HISTORY ADD CONSTRAINT BSFK_CARMANH_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);

-- 黑名单
CREATE TABLE BS_BLACKLIST (
   ID                   INTEGER           NOT NULL,
   STATUS_              NUMERIC(1),
   TYPE_                VARCHAR(255)        NOT NULL,
   COMPANY        		VARCHAR(255),
   DRIVER_ID            INTEGER,
   CAR_ID               INTEGER,
   MOTORCADE_ID         INTEGER,
   SUBJECT              VARCHAR(1000),
   LOCK_DATE            TIMESTAMP                 NOT NULL,
   UNLOCK_DATE          TIMESTAMP,
   LOCKER_ID            INTEGER           NOT NULL,
   UNLOCKER_ID          INTEGER,
   LOCK_REASON          VARCHAR(4000),
   UNLOCK_REASON        VARCHAR(4000),
   LEVEL_               VARCHAR(255),
   CODE                 VARCHAR(255),
   APPOINT_DATE 		TIMESTAMP,
   CONVERSION_TYPE 		VARCHAR(255),
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   CONSTRAINT BSPK_BLACKLIST PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_BLACKLIST IS '黑名单';
COMMENT ON COLUMN BS_BLACKLIST.STATUS_ IS '状态：0-锁定,1-解锁';
COMMENT ON COLUMN BS_BLACKLIST.TYPE_ IS '限制项目';
COMMENT ON COLUMN BS_BLACKLIST.COMPANY IS '所属公司';
COMMENT ON COLUMN BS_BLACKLIST.DRIVER_ID IS '司机ID';
COMMENT ON COLUMN BS_BLACKLIST.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_BLACKLIST.MOTORCADE_ID IS '车队ID';
COMMENT ON COLUMN BS_BLACKLIST.SUBJECT IS '主题';
COMMENT ON COLUMN BS_BLACKLIST.LOCK_DATE IS '锁定时间';
COMMENT ON COLUMN BS_BLACKLIST.UNLOCK_DATE IS '解锁时间';
COMMENT ON COLUMN BS_BLACKLIST.LOCKER_ID IS '锁定人ID';
COMMENT ON COLUMN BS_BLACKLIST.UNLOCKER_ID IS '解锁人ID';
COMMENT ON COLUMN BS_BLACKLIST.LOCK_REASON IS '锁定原因';
COMMENT ON COLUMN BS_BLACKLIST.UNLOCK_REASON IS '解锁原因';
COMMENT ON COLUMN BS_BLACKLIST.LEVEL_ IS '等级';
COMMENT ON COLUMN BS_BLACKLIST.CODE IS '编号';
COMMENT ON COLUMN BS_BLACKLIST.APPOINT_DATE IS '指定日期';
COMMENT ON COLUMN BS_BLACKLIST.CONVERSION_TYPE IS '指定日期后替换为限制项目';
COMMENT ON COLUMN BS_BLACKLIST.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_BLACKLIST.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_BLACKLIST.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_BLACKLIST.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_MOTORCADE FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_DIRVER FOREIGN KEY (DRIVER_ID)
      REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_LOCKER FOREIGN KEY (LOCKER_ID)
      REFERENCES BC_IDENTITY_ACTOR (ID);
ALTER TABLE BS_BLACKLIST ADD CONSTRAINT BSFK_BLACKLIST_UNLOCKER FOREIGN KEY (UNLOCKER_ID)
      REFERENCES BC_IDENTITY_ACTOR (ID);
      CREATE INDEX BSIDX_BLACKLIST_DRIVER ON BS_BLACKLIST (DRIVER_ID);
      CREATE INDEX BSIDX_BLACKLIST_CAR ON BS_BLACKLIST (CAR_ID);

-- 营运事件基表
CREATE TABLE BS_CASE_BASE (
   ID                   INTEGER           NOT NULL,
   UID_                 VARCHAR(36)         NOT NULL,
   CASE_NO              VARCHAR(255),
   CODE                 VARCHAR(255),
   TYPE_                INTEGER            NOT NULL,
   STATUS_              INTEGER            NOT NULL,
   SOURCE               INTEGER            NOT NULL,
   SUBJECT              VARCHAR(1000),
   ADDRESS              VARCHAR(1000),
   FROM_                VARCHAR(255),
   HAPPEN_DATE          TIMESTAMP                 NOT NULL,
   COMPANY       		VARCHAR(255),
   MOTORCADE_ID         INTEGER,
   MOTORCADE_NAME       VARCHAR(255),
   CAR_ID               INTEGER,
   CAR_PLATE            VARCHAR(255),
   DRIVER_ID		INTEGER,
   DRIVER_NAME          VARCHAR(255),
   DRIVER_CERT          VARCHAR(255),
   CLOSE_DATE           TIMESTAMP,
   CLOSER_ID            INTEGER,
   CLOSER_NAME          VARCHAR(255),
   DESC_                VARCHAR(4000),
   FILE_DATE            TIMESTAMP                 NOT NULL,
   AUTHOR_ID            INTEGER           NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   SYNC_UID             VARCHAR(36),
   SYNC_ID              INTEGER,
   CONSTRAINT BSPK_CASEBASE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_BASE IS '营运事件：表扬、投诉、营运违章、交通违法、事故等的基表';
COMMENT ON COLUMN BS_CASE_BASE.CASE_NO IS '案号：营运违章的案号，交通违章的违章顺序号等';
COMMENT ON COLUMN BS_CASE_BASE.CODE IS '自编号';
COMMENT ON COLUMN BS_CASE_BASE.TYPE_ IS '内部类型：1-表扬、2-投诉、3-营运违章、4-交通违章、5-事故';
COMMENT ON COLUMN BS_CASE_BASE.STATUS_ IS '状态：0-在案,1-已结案';
COMMENT ON COLUMN BS_CASE_BASE.SOURCE IS '来源：1-用户创建(手输)、2-接口导入、3-司机递交等';
COMMENT ON COLUMN BS_CASE_BASE.SUBJECT IS '标题';
COMMENT ON COLUMN BS_CASE_BASE.ADDRESS IS '事发地点';
COMMENT ON COLUMN BS_CASE_BASE.HAPPEN_DATE IS '事发时间';
COMMENT ON COLUMN BS_CASE_BASE.FROM_ IS '信息来源(用户填写)';
COMMENT ON COLUMN BS_CASE_BASE.COMPANY IS '所属公司:如宝城、广发';
COMMENT ON COLUMN BS_CASE_BASE.MOTORCADE_ID IS '车队ID';
COMMENT ON COLUMN BS_CASE_BASE.MOTORCADE_NAME IS '车队名称';
COMMENT ON COLUMN BS_CASE_BASE.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CASE_BASE.CAR_PLATE IS '车辆号码';
COMMENT ON COLUMN BS_CASE_BASE.DRIVER_CERT IS '司机ID';
COMMENT ON COLUMN BS_CASE_BASE.DRIVER_NAME IS '司机姓名';
COMMENT ON COLUMN BS_CASE_BASE.DRIVER_CERT IS '服务资格证';
COMMENT ON COLUMN BS_CASE_BASE.CLOSE_DATE IS '结案日期';
COMMENT ON COLUMN BS_CASE_BASE.CLOSER_ID IS '结案人ID';
COMMENT ON COLUMN BS_CASE_BASE.CLOSER_NAME IS '结案人姓名';
COMMENT ON COLUMN BS_CASE_BASE.DESC_ IS '备注';
COMMENT ON COLUMN BS_CASE_BASE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CASE_BASE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CASE_BASE.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CASE_BASE.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CASE_BASE.SYNC_UID IS '旧数据同步的UID';
COMMENT ON COLUMN BS_CASE_BASE.SYNC_ID IS '数据同步ID';
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_MOTORCADE FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_DRIVER FOREIGN KEY (DRIVER_ID)
      REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_CLOSER FOREIGN KEY (CLOSER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_BASE ADD CONSTRAINT BSFK_CASEBASE_SYNC FOREIGN KEY (SYNC_ID)
      REFERENCES BC_SYNC_BASE (ID);
CREATE INDEX BSIDX_CASE_BASE_DRIVER ON BS_CASE_BASE (DRIVER_CERT);
CREATE INDEX BSIDX_CASE_BASE_CAR ON BS_CASE_BASE (CAR_ID);
            
-- 营运违章
CREATE TABLE BS_CASE_INFRACT_BUSINESS (
   ID                   INTEGER           NOT NULL,
   RECEIVE_DATE         TIMESTAMP,
   RECEIVER_ID        	INTEGER,
   RECEIVER_NAME      	VARCHAR(255),
   DUTY                 VARCHAR(255),
   SORT                 VARCHAR(255),
   EXTENT               VARCHAR(255),
   CERT_KJ_TYPE         VARCHAR(255),
   CERT_KJ              VARCHAR(255),
   CERT_YY              VARCHAR(255),
   DETAIN               VARCHAR(255),
   JEOM                 NUMERIC(3,1),
   PENALTY              NUMERIC(10,2),
   PENALTY2             NUMERIC(10,2),
   AREA                 VARCHAR(255),
   PULL_UNIT            VARCHAR(255),
   OPERATOR             VARCHAR(255),
   OPERATE_UNIT         VARCHAR(255),
   RECEIPT              VARCHAR(255),
   COMMENT_             VARCHAR(4000),
   IS_INVALID           boolean default false,
   IS_SEAL              boolean default false,
   SEAL_DATE            TIMESTAMP,
   IS_DELIVER           boolean default false,
   IS_CLOSE             boolean default false,
   IS_OVERDUE           boolean default false,
   IS_STOP              boolean default false,
   CATEGORY          	INTEGER,
   TRANSACTOR_ID        INTEGER,
   TRANSACTOR_NAME      VARCHAR(255),
   BRANCH_CHARGER_ID  	INTEGER,
   BRANCH_CHARGER_NAME	VARCHAR(255),
   COMPANY_APPROVAL_ID 	INTEGER,
   COMPANY_APPROVAL_NAME VARCHAR(255),
   CONTENT        	VARCHAR(4000),
   STOP_PRODUCTION      VARCHAR(255),
   STUDY        	VARCHAR(255),
   DEDIT        	NUMERIC(10,2),
   DRIVER_RATING        VARCHAR(255),
   CHARGER        	VARCHAR(255),
   CONSTRAINT BSPK_CASE_INFRACT_BUSINESS PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_INFRACT_BUSINESS IS '营运违章';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.RECEIVE_DATE IS '接案日期';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.RECEIVER_ID IS '接案人id';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.RECEIVER_NAME IS '接案人姓名';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.DUTY IS '责任';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.SORT IS '性质';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.EXTENT IS '程度';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CERT_KJ_TYPE IS '没收证件类型';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CERT_KJ IS '扣件证号';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CERT_YY IS '营运证号';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.DETAIN IS '扣留物品';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.JEOM IS '扣分';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.PENALTY IS '罚款';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.PENALTY2 IS '违约金';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.AREA IS '所属区县';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.PULL_UNIT IS '拖车单位';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.OPERATOR IS '执法人';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.OPERATE_UNIT IS '执法机关';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.RECEIPT IS '罚没收据编号';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.COMMENT_ IS '处理意见';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_INVALID IS '是否无效：1-无效';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_SEAL IS '是否盖章：1-盖';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.SEAL_DATE IS '盖章日期';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_DELIVER IS '是否交结案单：1-已交';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_CLOSE IS '是否结案：1-结案';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_OVERDUE IS '是否过期：1-过期';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.IS_STOP IS '是否停场：1-停';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CATEGORY IS '类别:0-营运违章,1-站场违章,2-服务违章';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.TRANSACTOR_ID IS '经办人id';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.TRANSACTOR_NAME IS '经办人姓名';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.BRANCH_CHARGER_ID IS '分公司负责人id';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.BRANCH_CHARGER_NAME IS '分公司负责人姓名';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.COMPANY_APPROVAL_ID IS '公司审批人id';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.COMPANY_APPROVAL_NAME IS '公司审批人姓名';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CONTENT IS '内容';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.STOP_PRODUCTION IS '停产';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.STUDY IS '学习';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.DEDIT IS '违约金';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.DRIVER_RATING IS '驾驶员评级';
COMMENT ON COLUMN BS_CASE_INFRACT_BUSINESS.CHARGER IS '责任人';
ALTER TABLE BS_CASE_INFRACT_BUSINESS ADD CONSTRAINT BSFK_INFRACTB_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
ALTER TABLE BS_CASE_INFRACT_BUSINESS ADD CONSTRAINT BSFK_INFRACTB_RECEIVER FOREIGN KEY (RECEIVER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_INFRACT_BUSINESS ADD CONSTRAINT BSFK_INFRACTB_TRANSACTOR FOREIGN KEY (TRANSACTOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_INFRACT_BUSINESS ADD CONSTRAINT BSFK_INFRACTB_BRANCH_CHARGER FOREIGN KEY (BRANCH_CHARGER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_INFRACT_BUSINESS ADD CONSTRAINT BSFK_INFRACTB_COMPANY_APPROVAL FOREIGN KEY (COMPANY_APPROVAL_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);

-- 交通违章
CREATE TABLE BS_CASE_INFRACT_TRAFFIC (
   ID                   INTEGER           NOT NULL,
   CHARGER        		VARCHAR(255),
   DUTY                 VARCHAR(255),
   SORT                 VARCHAR(255),
   JEOM                 NUMERIC(3,1),
   COMMENT_             VARCHAR(4000),
   IS_DELIVER           boolean default false,
   DELIVER_DATE         TIMESTAMP,
   IS_SIGN              boolean default false,
   SIGN_DATE            TIMESTAMP,
   CONSTRAINT BSPK_CASE_INFRACT_TRAFFIC PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_INFRACT_TRAFFIC IS '交通违章';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.CHARGER IS '责任人';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.DUTY IS '责任';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.SORT IS '性质';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.JEOM IS '扣分';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.COMMENT_ IS '处理意见';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.IS_DELIVER IS '是否邮递：1-是';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.DELIVER_DATE IS '邮递时间';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.IS_SIGN IS '是否签领：1-是';
COMMENT ON COLUMN BS_CASE_INFRACT_TRAFFIC.SIGN_DATE IS '签领时间';
ALTER TABLE BS_CASE_INFRACT_TRAFFIC ADD CONSTRAINT BSFK_INFRACTT_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
      
-- 事故理赔
CREATE TABLE BS_CASE_ACCIDENT (
   ID                   INTEGER           NOT NULL,
   RECEIVE_DATE         TIMESTAMP,
   RECEIVER_ID          INTEGER,
   RECEIVER_NAME        VARCHAR(255),
   RECEIVE_CODE         VARCHAR(255),
   DEPARTMENT           VARCHAR(255),
   CHARGER_ID           INTEGER,
   CHARGER_NAME         VARCHAR(255),
   DUTY                 VARCHAR(255),
   SORT                 VARCHAR(255),
   WEATHER              VARCHAR(255),
   DRIVER_AREA          NUMERIC(1),
   DRIVER_TYPE          NUMERIC(1),
   DRIVER_CLASSES       NUMERIC(1),
   INSURANCE_COMPANY    VARCHAR(255),
   INSURANCE_INFO       VARCHAR(4000),
   IS_DELIVER           boolean default false,
   DELIVER_DATE         TIMESTAMP,
   DELIVER_MONEY        NUMERIC(10,2),
   IS_PAY               boolean default false,
   PAY_DATE             TIMESTAMP,
   PAY_MONEY            NUMERIC(10,2),
   PAY_CODE             VARCHAR(255),
   IS_CLAIM             boolean default false,
   CLAIM_DATE           TIMESTAMP,
   CLAIM_MONEY          NUMERIC(10,2),
   CLAIM_CODE           VARCHAR(255),
   CLAIM_NO1           VARCHAR(255),
   CLAIM_NO2           VARCHAR(255),
   CASUALTIES           VARCHAR(255),
   CAR_HURT             VARCHAR(255),
   THIRD_PARTY          VARCHAR(255),
   IS_ROB               boolean default false,
   HURT_COUNT           NUMERIC(10),
   DEAD_COUNT           NUMERIC(10),
   ACTUAL_LOSS          NUMERIC(10,2),
   IS_INNER_FIX         boolean default false,
   FIX_COST             NUMERIC(10,2),
   COST_DETAIL          VARCHAR(4000),
   CARMAN_COST  		NUMERIC(10,2),
   THIRD_LOSS 			NUMERIC(10,2),
   THIRD_COST 			NUMERIC(10,2),
   AGREEMENT_PAYMENT 	NUMERIC(10,2),
   DESC_ 				VARCHAR(4000),
   ORIGIN 				VARCHAR(200),
   CLAIM_AMOUNT 		NUMERIC(10,2),
   CAR_WOUNDING 		NUMERIC(10,2),
   THIRD_WOUNDING 		NUMERIC(10,2),
   MEDICAL_FEE 			NUMERIC(10,2),
   PAY_DRIVERID 		INTEGER,
   PAY_DRIVER 			VARCHAR(255),
   IS_DELIVER_SECOND 	BOOLEAN DEFAULT FALSE,
   IS_DELIVER_TWO 		BOOLEAN DEFAULT FALSE,
   DELIVER_DATE_TWO 	TIMESTAMP,
   DELIVER_MONEY_TWO 	NUMERIC(10,2),
   IS_CLAIM_TWO 		BOOLEAN DEFAULT FALSE,
   CLAIM_DATE_TWO 		TIMESTAMP,
   CLAIM_MONEY_TWO 		NUMERIC(10,2),
   IS_PAY_TWO 			BOOLEAN DEFAULT FALSE,
   PAY_DRIVERID_TWO 	INTEGER,
   PAY_DRIVER_TWO 		VARCHAR(255),
   PAY_DATE_TWO 		TIMESTAMP,
   PAY_MONEY_TWO 		NUMERIC(10,2),
   THIRD_LOSS_INFO 		VARCHAR(255),
   CONSTRAINT BSPK_CASE_ACCIDENT PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_ACCIDENT IS '事故理赔';
COMMENT ON COLUMN BS_CASE_ACCIDENT.RECEIVE_DATE IS '受理时间';
COMMENT ON COLUMN BS_CASE_ACCIDENT.RECEIVER_ID IS '经办人ID';
COMMENT ON COLUMN BS_CASE_ACCIDENT.RECEIVER_NAME IS '经办人姓名';
COMMENT ON COLUMN BS_CASE_ACCIDENT.RECEIVE_CODE IS '受理编号';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DEPARTMENT IS '处理部门';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CHARGER_ID IS '负责人ID';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CHARGER_NAME IS '负责人姓名';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DUTY IS '责任';
COMMENT ON COLUMN BS_CASE_ACCIDENT.SORT IS '性质';
COMMENT ON COLUMN BS_CASE_ACCIDENT.WEATHER IS '天气';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DRIVER_AREA IS '司机区域:0-未定义，1-本市，2-本省，3-外省';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DRIVER_TYPE IS '司机类型：0:未定义,1:车主 ,2:司机,3:非编';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DRIVER_CLASSES IS '驾驶状态：如正班等';
COMMENT ON COLUMN BS_CASE_ACCIDENT.INSURANCE_COMPANY IS '保险公司';
COMMENT ON COLUMN BS_CASE_ACCIDENT.INSURANCE_INFO IS '相关保单';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_DELIVER IS '是否送保：1-是';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DELIVER_DATE IS '送保日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DELIVER_MONEY IS '送保金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_PAY IS '是否司机受款：1-是';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DATE IS '司机受款日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_MONEY IS '司机受款金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_CODE IS '司机受款收据号';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_CLAIM IS '是否保险公司赔付：1-是';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_DATE IS '保险公司赔付日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_MONEY IS '保险公司赔付金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_CODE IS '保险公司赔付收据号';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_NO1 IS '商业险赔付号';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_NO2 IS '交强险赔付号';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CASUALTIES IS '伤亡情况';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CAR_HURT IS '车损情况';
COMMENT ON COLUMN BS_CASE_ACCIDENT.THIRD_PARTY IS '第三者情况';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_ROB IS '是否抢劫：1-是';
COMMENT ON COLUMN BS_CASE_ACCIDENT.HURT_COUNT IS '受伤人数';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DEAD_COUNT IS '死亡人数';
COMMENT ON COLUMN BS_CASE_ACCIDENT.ACTUAL_LOSS IS '实际损失';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_INNER_FIX IS '是否修理厂内修：1-是';
COMMENT ON COLUMN BS_CASE_ACCIDENT.FIX_COST IS '修理厂内修金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.COST_DETAIL IS '损失明细';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CARMAN_COST IS '司机拖车费';
COMMENT ON COLUMN BS_CASE_ACCIDENT.THIRD_LOSS IS '第三者损失';
COMMENT ON COLUMN BS_CASE_ACCIDENT.THIRD_COST IS '第三者拖车费';
COMMENT ON COLUMN BS_CASE_ACCIDENT.AGREEMENT_PAYMENT IS '协议赔付';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DESC_ IS '备注';
COMMENT ON COLUMN BS_CASE_ACCIDENT.ORIGIN IS '籍贯';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_AMOUNT IS '出险金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CAR_WOUNDING IS '自车伤人';
COMMENT ON COLUMN BS_CASE_ACCIDENT.THIRD_WOUNDING IS '第三者伤人';
COMMENT ON COLUMN BS_CASE_ACCIDENT.MEDICAL_FEE IS '第三者医疗费用';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DRIVERID IS '送保的受款司机ID';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DRIVER IS '送保的受款司机';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_DELIVER_SECOND IS '是否第二次送保';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_DELIVER_TWO IS '第二次送保里的送保';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DELIVER_DATE_TWO IS '第二次送保里的送保日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.DELIVER_MONEY_TWO IS '第二次送保里的送保金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_CLAIM_TWO IS '第二次送保里的赔付';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_DATE_TWO IS '第二次送保里的赔付日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.CLAIM_MONEY_TWO IS '第二次送保里的赔付金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.IS_DELIVER_TWO IS '第二次送保里的司机受款';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DRIVERID_TWO IS '第二次送保里的受款司机ID';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DRIVER_TWO IS '第二次送保里的受款司机';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_DATE_TWO IS '第二次送保里的司机受款日期';
COMMENT ON COLUMN BS_CASE_ACCIDENT.PAY_MONEY_TWO IS '第二次送保里的司机受款金额';
COMMENT ON COLUMN BS_CASE_ACCIDENT.THIRD_LOSS_INFO IS '第三者损失情况';
ALTER TABLE BS_CASE_ACCIDENT ADD CONSTRAINT BSFK_ACCIDENT_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
ALTER TABLE BS_CASE_ACCIDENT ADD CONSTRAINT BSFK_ACCIDENT_CHARGER FOREIGN KEY (CHARGER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_ACCIDENT ADD CONSTRAINT BSFK_ACCIDENT_RECEIVER FOREIGN KEY (RECEIVER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
      

-- 投诉与建议
CREATE TABLE BS_CASE_ADVICE (
   ID                   INTEGER           NOT NULL,
   ADVICE_TYPE          INTEGER           NOT NULL,
   RECEIVE_DATE         TIMESTAMP,
   RECEIVE_CODE         VARCHAR(255),
   TRANSACTOR_ID        INTEGER,
   TRANSACTOR_NAME      VARCHAR(255),
   SUBJECT2             VARCHAR(255),
   DETAIL               VARCHAR(4000),
   CAR_COLOR            VARCHAR(255),
   DRIVER_SEX           NUMERIC(1),
   DRIVER_FEATURE       VARCHAR(255),
   ADVISOR_NAME         VARCHAR(255),
   ADVISOR_SEX          INTEGER            NOT NULL,
   ADVISOR_AGE          NUMERIC(3),
   ADVISOR_PHONE        VARCHAR(255),
   ADVISOR_CERT         VARCHAR(255),
   DUTY                 VARCHAR(255),
   EXTENT               VARCHAR(255),
   NOTICE_DATE          TIMESTAMP,
   RESULT_              VARCHAR(4000),
   TICKET               VARCHAR(255),
   MACHINE_PRICE        NUMERIC(10),
   CHARGE               NUMERIC(10),
   RIDING_TIME_START    TIMESTAMP,
   RIDING_TIME_END      TIMESTAMP,
   PATH_FROM            VARCHAR(255),
   PATH_TO              VARCHAR(255),
   PATH                 VARCHAR(255),
   PASSENGER_COUNT_MAN  NUMERIC(1),
   PASSENGER_COUNT_WOMAN NUMERIC(1),
   PASSENGER_COUNT_CHILD NUMERIC(1),
   PASSENGER_COUNT      NUMERIC(1),
   DELIVER_DATE         TIMESTAMP,
   IS_INVALID           boolean default false,
   BRANCH_CHARGER_ID        	INTEGER,
   BRANCH_CHARGER_NAME      	VARCHAR(255),
   COMPANY_APPROVAL_ID        	INTEGER,
   COMPANY_APPROVAL_NAME      	VARCHAR(255),
   STOP_PRODUCTION      		VARCHAR(255),
   STUDY      					VARCHAR(255),
   DEDIT      					NUMERIC(10,2),
   DRIVER_RATING      			VARCHAR(255),
   HANDLER_ID      				INTEGER,
   HANDLER_NAME      			VARCHAR(255),
   HANDLE_STATUS      			INTEGER,
   HANDLE_OPINION      			VARCHAR(255),
   HANDLE_DATE      			TIMESTAMP,
   CHARGER      				VARCHAR(255),
   CONSTRAINT BSPK_CASE_ADVICE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_ADVICE IS '投诉与建议';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVICE_TYPE IS '标识是投诉还是建议:0-投诉,1-建议';
COMMENT ON COLUMN BS_CASE_ADVICE.RECEIVE_DATE IS '接诉时间';
COMMENT ON COLUMN BS_CASE_ADVICE.RECEIVE_CODE IS '受理号';
COMMENT ON COLUMN BS_CASE_ADVICE.TRANSACTOR_ID IS '经办人ID';
COMMENT ON COLUMN BS_CASE_ADVICE.TRANSACTOR_NAME IS '经办人姓名';
COMMENT ON COLUMN BS_CASE_ADVICE.SUBJECT2 IS '投诉项目小类';
COMMENT ON COLUMN BS_CASE_ADVICE.DETAIL IS '投诉内容';
COMMENT ON COLUMN BS_CASE_ADVICE.CAR_COLOR IS '车色';
COMMENT ON COLUMN BS_CASE_ADVICE.DRIVER_SEX IS '司机性别:0-未设,1-男,2-女';
COMMENT ON COLUMN BS_CASE_ADVICE.DRIVER_FEATURE IS '司机特征';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVISOR_NAME IS '投诉人姓名';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVISOR_SEX IS '投诉人性别';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVISOR_AGE IS '投诉人年龄';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVISOR_PHONE IS '投诉人电话';
COMMENT ON COLUMN BS_CASE_ADVICE.ADVISOR_CERT IS '投诉人证件号';
COMMENT ON COLUMN BS_CASE_ADVICE.DUTY IS '责任';
COMMENT ON COLUMN BS_CASE_ADVICE.EXTENT IS '程度';
COMMENT ON COLUMN BS_CASE_ADVICE.NOTICE_DATE IS '通知时间';
COMMENT ON COLUMN BS_CASE_ADVICE.RESULT_ IS '处理结果';
COMMENT ON COLUMN BS_CASE_ADVICE.TICKET IS '车票号码';
COMMENT ON COLUMN BS_CASE_ADVICE.MACHINE_PRICE IS '计费器显示价格';
COMMENT ON COLUMN BS_CASE_ADVICE.CHARGE IS '实际收费';
COMMENT ON COLUMN BS_CASE_ADVICE.RIDING_TIME_START IS '乘车起始时间';
COMMENT ON COLUMN BS_CASE_ADVICE.RIDING_TIME_END IS '乘车结束时间';
COMMENT ON COLUMN BS_CASE_ADVICE.PATH_FROM IS '乘车路线(从)';
COMMENT ON COLUMN BS_CASE_ADVICE.PATH_TO IS '乘车路线(到)';
COMMENT ON COLUMN BS_CASE_ADVICE.PATH IS '乘车路线';
COMMENT ON COLUMN BS_CASE_ADVICE.PASSENGER_COUNT_MAN IS '乘车人数(男)';
COMMENT ON COLUMN BS_CASE_ADVICE.PASSENGER_COUNT_WOMAN IS '乘车人数(女)';
COMMENT ON COLUMN BS_CASE_ADVICE.PASSENGER_COUNT_CHILD IS '乘车人数(童)';
COMMENT ON COLUMN BS_CASE_ADVICE.PASSENGER_COUNT IS '乘车人数';
COMMENT ON COLUMN BS_CASE_ADVICE.DELIVER_DATE IS '结案书交回日期';
COMMENT ON COLUMN BS_CASE_ADVICE.IS_INVALID IS '是否无效：1-无效';
COMMENT ON COLUMN BS_CASE_ADVICE.BRANCH_CHARGER_ID IS '分公司负责人id';
COMMENT ON COLUMN BS_CASE_ADVICE.BRANCH_CHARGER_NAME IS '分公司负责人姓名';
COMMENT ON COLUMN BS_CASE_ADVICE.COMPANY_APPROVAL_ID IS '公司审批人id';
COMMENT ON COLUMN BS_CASE_ADVICE.COMPANY_APPROVAL_NAME IS '公司审批人姓名';
COMMENT ON COLUMN BS_CASE_ADVICE.STOP_PRODUCTION IS '停产';
COMMENT ON COLUMN BS_CASE_ADVICE.STUDY IS '学习';
COMMENT ON COLUMN BS_CASE_ADVICE.DEDIT IS '违约金';
COMMENT ON COLUMN BS_CASE_ADVICE.DRIVER_RATING IS '驾驶员评级';
COMMENT ON COLUMN BS_CASE_ADVICE.HANDLER_ID IS '核准人id';
COMMENT ON COLUMN BS_CASE_ADVICE.HANDLER_NAME IS '核准人姓名';
COMMENT ON COLUMN BS_CASE_ADVICE.HANDLE_STATUS IS '核准状态';
COMMENT ON COLUMN BS_CASE_ADVICE.HANDLE_OPINION IS '核准意见';
COMMENT ON COLUMN BS_CASE_ADVICE.HANDLE_DATE IS '核准时间';
COMMENT ON COLUMN BS_CASE_ADVICE.CHARGER IS '责任人';
ALTER TABLE BS_CASE_ADVICE ADD CONSTRAINT BSFK_ADVICE_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
ALTER TABLE BS_CASE_ADVICE ADD CONSTRAINT BSFK_ADVICE_TRANSACTOR FOREIGN KEY (TRANSACTOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_ADVICE ADD CONSTRAINT BSFK_ADVICE_BRANCH_CHARGER FOREIGN KEY (BRANCH_CHARGER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_ADVICE ADD CONSTRAINT BSFK_ADVICE_COMPANY_APPROVAL FOREIGN KEY (COMPANY_APPROVAL_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CASE_ADVICE ADD CONSTRAINT BSFK_ADVICE_HANDLER FOREIGN KEY (HANDLER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
      
-- 表扬
CREATE TABLE BS_CASE_PRAISE (
   ID                   INTEGER           NOT NULL,
   PRAISE_TYPE          VARCHAR(255),
   RECEIVE_DATE         TIMESTAMP                 NOT NULL,
   TRANSACTOR_ID          INTEGER,
   TRANSACTOR_NAME        VARCHAR(255),
   SUBJECT2             VARCHAR(255),
   DETAIL               VARCHAR(4000),
   CAR_COLOR            VARCHAR(255),
   DRIVER_SEX           INTEGER            NOT NULL,
   DRIVER_FEATURE       VARCHAR(255),
   ADVISOR_NAME         VARCHAR(255)        NOT NULL,
   ADVISOR_SEX          INTEGER            NOT NULL,
   ADVISOR_AGE          NUMERIC(3),
   ADVISOR_PHONE        VARCHAR(255),
   ADVISOR_CERT         VARCHAR(255),
   NOTICE_DATE          TIMESTAMP,
   RESULT_              VARCHAR(4000),
   TICKET               VARCHAR(255),
   MACHINE_PRICE        NUMERIC(10),
   CHARGE               NUMERIC(10),
   RIDING_TIME_START    TIMESTAMP,
   RIDING_TIME_END      TIMESTAMP,
   PATH_FROM            VARCHAR(255),
   PATH_TO              VARCHAR(255),
   PATH                 VARCHAR(255),
   PASSENGER_COUNT_MAN  NUMERIC(1),
   PASSENGER_COUNT_WOMAN NUMERIC(1),
   PASSENGER_COUNT_CHILD NUMERIC(1),
   PASSENGER_COUNT      NUMERIC(1),
   REWARD_MONEY         NUMERIC(10,2),
   CONSTRAINT BSPK_CASE_PRAISE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_PRAISE IS '表扬';
COMMENT ON COLUMN BS_CASE_PRAISE.PRAISE_TYPE IS '表扬类型';
COMMENT ON COLUMN BS_CASE_PRAISE.RECEIVE_DATE IS '接诉时间';
COMMENT ON COLUMN BS_CASE_PRAISE.TRANSACTOR_ID IS '经办人ID';
COMMENT ON COLUMN BS_CASE_PRAISE.TRANSACTOR_NAME IS '经办人姓名';
COMMENT ON COLUMN BS_CASE_PRAISE.SUBJECT2 IS '表扬项目小类';
COMMENT ON COLUMN BS_CASE_PRAISE.DETAIL IS '表扬内容';
COMMENT ON COLUMN BS_CASE_PRAISE.CAR_COLOR IS '车色';
COMMENT ON COLUMN BS_CASE_PRAISE.DRIVER_SEX IS '司机性别:0-未设,1-男,2-女';
COMMENT ON COLUMN BS_CASE_PRAISE.DRIVER_FEATURE IS '司机特征';
COMMENT ON COLUMN BS_CASE_PRAISE.ADVISOR_NAME IS '投诉人姓名';
COMMENT ON COLUMN BS_CASE_PRAISE.ADVISOR_SEX IS '投诉人性别';
COMMENT ON COLUMN BS_CASE_PRAISE.ADVISOR_AGE IS '投诉人年龄';
COMMENT ON COLUMN BS_CASE_PRAISE.ADVISOR_PHONE IS '投诉人电话';
COMMENT ON COLUMN BS_CASE_PRAISE.ADVISOR_CERT IS '投诉人证件号';
COMMENT ON COLUMN BS_CASE_PRAISE.NOTICE_DATE IS '通知时间';
COMMENT ON COLUMN BS_CASE_PRAISE.RESULT_ IS '处理结果';
COMMENT ON COLUMN BS_CASE_PRAISE.TICKET IS '车票号码';
COMMENT ON COLUMN BS_CASE_PRAISE.MACHINE_PRICE IS '计费器显示价格';
COMMENT ON COLUMN BS_CASE_PRAISE.CHARGE IS '实际收费';
COMMENT ON COLUMN BS_CASE_PRAISE.RIDING_TIME_START IS '乘车起始时间';
COMMENT ON COLUMN BS_CASE_PRAISE.RIDING_TIME_END IS '乘车结束时间';
COMMENT ON COLUMN BS_CASE_PRAISE.PATH_FROM IS '乘车路线(从)';
COMMENT ON COLUMN BS_CASE_PRAISE.PATH_TO IS '乘车路线(到)';
COMMENT ON COLUMN BS_CASE_PRAISE.PATH IS '乘车路线';
COMMENT ON COLUMN BS_CASE_PRAISE.PASSENGER_COUNT_MAN IS '乘车人数(男)';
COMMENT ON COLUMN BS_CASE_PRAISE.PASSENGER_COUNT_WOMAN IS '乘车人数(女)';
COMMENT ON COLUMN BS_CASE_PRAISE.PASSENGER_COUNT_CHILD IS '乘车人数(童)';
COMMENT ON COLUMN BS_CASE_PRAISE.PASSENGER_COUNT IS '乘车人数';
COMMENT ON COLUMN BS_CASE_PRAISE.REWARD_MONEY IS '获奖金额';
ALTER TABLE BS_CASE_PRAISE ADD CONSTRAINT BSFK_PRAISE_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
ALTER TABLE BS_CASE_PRAISE ADD CONSTRAINT BSFK_PRAISE_TRANSACTOR FOREIGN KEY (TRANSACTOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);

-- 工伤
CREATE TABLE BS_INDUSTRIAL_INJURY 
(
   ID                   INTEGER         NOT NULL,
   UID_                 VARCHAR(36)     NOT NULL,
   CONTRACT_ID          INTEGER         NOT NULL,
   STATUS_		INTEGER		NOT NULL,
   CODE                 VARCHAR(255)    NOT NULL,
   HAPPEN_DATE          TIMESTAMP,
   CONFIRM_DATE         TIMESTAMP,
   START_DATE           TIMESTAMP,
   END_DATE             TIMESTAMP,
   COMPENSATION         VARCHAR(255),
   MONEY                NUMERIC(10,2),        
   IS_OAS               BOOLEAN          DEFAULT FALSE,
   IS_IN_HOSPITAL       BOOLEAN          DEFAULT FALSE,
   IS_LI                BOOLEAN          DEFAULT FALSE,
   DESCRIPTION          VARCHAR(4000),
   FILE_DATE            TIMESTAMP        NOT NULL,
   AUTHOR_ID            INTEGER          NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   CONSTRAINT PK_BS_INDUSTRIAL_INJURY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_INDUSTRIAL_INJURY IS '工伤';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.CONTRACT_ID IS '合同ID';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.STATUS_ IS '状态：0-正常,1-已禁用';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.CODE IS '工伤号';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.HAPPEN_DATE IS '工伤时间';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.CONFIRM_DATE IS '认定日期';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.START_DATE IS '医疗开始日期';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.END_DATE IS '医疗结束日期';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.COMPENSATION IS '赔偿项目';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.MONEY IS '金额';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.IS_OAS IS '是否门诊';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.IS_IN_HOSPITAL IS '是否住院';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.IS_LI IS '是否劳动鉴别';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.DESCRIPTION IS '概况描述';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_INDUSTRIAL_INJURY.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_INDUSTRIAL_INJURY ADD CONSTRAINT BSFK_INDUS_REFERENCE_BS_CONTR FOREIGN KEY (CONTRACT_ID)
      REFERENCES BS_CONTRACT_LABOUR (ID);
ALTER TABLE BS_INDUSTRIAL_INJURY ADD CONSTRAINT BSFK_INDUS_REFERENCE_BC_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INDUSTRIAL_INJURY ADD CONSTRAINT BSFK_INDUS_INJURY_BC_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
	  
-- 车辆保单
CREATE TABLE BS_CAR_POLICY (
   ID                   INTEGER           	NOT NULL,
   UID_                 VARCHAR(36)   		NOT NULL,
   VER_MAJOR            NUMERIC(2),
   VER_MINOR            NUMERIC(3),
   PATCH_NO             VARCHAR(255)        NOT NULL,
   MAIN                 INTEGER            	NOT NULL,
   PID                  INTEGER,
   OP_TYPE              INTEGER            	NOT NULL,
   STATUS_              INTEGER            	NOT NULL,
   CAR_ID               INTEGER           	NOT NULL,
   ASSURED              VARCHAR(255),
   COMMERIAL_NO         VARCHAR(255),
   COMMERIAL_COMPANY    VARCHAR(255),
   COMMERIAL_START_DATE TIMESTAMP,
   COMMERIAL_END_DATE   TIMESTAMP,
   OWNRISK              boolean default false,
   GREENSLIP            boolean default false,
   GREENSLIP_SAME_DATE  boolean default false,
   GREENSLIP_NO         VARCHAR(255),
   GREENSLIP_COMPANY    VARCHAR(255),
   GREENSLIP_START_DATE	TIMESTAMP,
   GREENSLIP_END_DATE	TIMESTAMP,
   GREENSLIP_SOURCE     VARCHAR(255),
   LIABILITY_NO         VARCHAR(255),
   STOP_DATE     		TIMESTAMP,
   AMOUNT               NUMERIC(10,2),
   FILE_DATE            TIMESTAMP     		NOT NULL,
   AUTHOR_ID            INTEGER           	NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   LIABILITY_AMOUNT  	NUMERIC(20,2),
   COMMERIAL_AMOUNT  	NUMERIC(20,2),
   GREENSLIP_AMOUNT  	NUMERIC(20,2),
   LOGOUT_ID  			INTEGER,
   LOGOUT_DATE  		TIMESTAMP,
   BUY_PLANT         	VARCHAR(4000),
   CONSTRAINT BSPK_CAR_POLICY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_POLICY IS '车辆保单';
COMMENT ON COLUMN BS_CAR_POLICY.STATUS_ IS '状态：0-正常,1-注销';
COMMENT ON COLUMN BS_CAR_POLICY.VER_MAJOR IS '主版本号';
COMMENT ON COLUMN BS_CAR_POLICY.VER_MINOR IS '次版本号';
COMMENT ON COLUMN BS_CAR_POLICY.PATCH_NO IS '批号';
COMMENT ON COLUMN BS_CAR_POLICY.MAIN IS '主体: 0-当前版本,1-历史版本';
COMMENT ON COLUMN BS_CAR_POLICY.PID IS '父级ID';
COMMENT ON COLUMN BS_CONTRACT.OP_TYPE IS '操作类型: 1-新建,2-维护,3-续保,4-停保';
COMMENT ON COLUMN BS_CAR_POLICY.CAR_ID IS '投保车号';
COMMENT ON COLUMN BS_CAR_POLICY.ASSURED IS '投保人';
COMMENT ON COLUMN BS_CAR_POLICY.COMMERIAL_NO IS '商业险号';
COMMENT ON COLUMN BS_CAR_POLICY.COMMERIAL_COMPANY IS '商业险保险公司';
COMMENT ON COLUMN BS_CAR_POLICY.COMMERIAL_START_DATE IS '商业险开始日期';
COMMENT ON COLUMN BS_CAR_POLICY.COMMERIAL_END_DATE IS '商业险结束日期';
COMMENT ON COLUMN BS_CAR_POLICY.OWNRISK IS '是否自保';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP IS '是否购买了强制险';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_SAME_DATE IS '强制险是否与商业险同期';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_NO IS '强险单号';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_COMPANY IS '强险保险公司';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_START_DATE IS '强制险开始日期';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_END_DATE IS '强制险结束日期';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_SOURCE IS '强保人来源';
COMMENT ON COLUMN BS_CAR_POLICY.LIABILITY_NO IS '责任险单号';
COMMENT ON COLUMN BS_CAR_POLICY.STOP_DATE IS '停保日期';
COMMENT ON COLUMN BS_CAR_POLICY.AMOUNT IS '合计';
COMMENT ON COLUMN BS_CAR_POLICY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_POLICY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_POLICY.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CAR_POLICY.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR_POLICY.LIABILITY_AMOUNT IS '责任险合计';
COMMENT ON COLUMN BS_CAR_POLICY.COMMERIAL_AMOUNT IS '商业险合计';
COMMENT ON COLUMN BS_CAR_POLICY.GREENSLIP_AMOUNT IS '强制险合计';
COMMENT ON COLUMN BS_CAR_POLICY.LOGOUT_ID IS '注销人ID';
COMMENT ON COLUMN BS_CAR_POLICY.LOGOUT_DATE IS '注销日期';
COMMENT ON COLUMN BS_CAR_POLICY.BUY_PLANT IS '保单的险种列,字符串格式保存';
ALTER TABLE BS_CAR_POLICY ADD CONSTRAINT BSFK_CARPOLICY_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_POLICY ADD CONSTRAINT BSFK_CARPOLICY_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_POLICY ADD CONSTRAINT BSFK_POLICY_REFERENCE_BS_POLICY FOREIGN KEY (PID)
      REFERENCES BS_CAR_POLICY (ID);
ALTER TABLE BS_CAR_POLICY ADD CONSTRAINT BSFK_CARPOLICY_CAR FOREIGN KEY (CAR_ID )
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_CAR_POLICY ADD CONSTRAINT BSFK_CARPOLICY_LOGOUT FOREIGN KEY (LOGOUT_ID) 
	  REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CAR_POLICY ON BS_CAR_POLICY (CAR_ID);

-- 购买车保险种
CREATE TABLE BS_BUY_PLANT (
   ID                   INTEGER          NOT NULL,
   PID                  INTEGER          NOT NULL,
   ORDER_               INTEGER,
   NAME                 VARCHAR(255)       NOT NULL,
   COVERAGE		        VARCHAR(255),
   DESC_                VARCHAR(4000),
   CONSTRAINT BSPK_BUY_PLANT PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_BUY_PLANT IS '购买车保险种';
COMMENT ON COLUMN BS_BUY_PLANT.PID IS '所属保单ID';
COMMENT ON COLUMN BS_BUY_PLANT.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_BUY_PLANT.NAME IS '险种名称';
COMMENT ON COLUMN BS_BUY_PLANT.COVERAGE IS '保额';
COMMENT ON COLUMN BS_BUY_PLANT.DESC_ IS '备注';
ALTER TABLE BS_BUY_PLANT ADD CONSTRAINT BSFK_BUYPLANT_CARPOLICY FOREIGN KEY (PID)
      REFERENCES BS_CAR_POLICY (ID);
	  
-- 车辆保单险种
CREATE TABLE BS_INSURANCE_TYPE (
   ID                   INTEGER          	NOT NULL,
   PID              	INTEGER,
   STATUS_              INTEGER            	NOT NULL,
   TYPE_              	INTEGER  			DEFAULT 0,
   ORDER_               VARCHAR(255),
   NAME                 VARCHAR(255)       	NOT NULL,
   COVERAGE		        VARCHAR(255),
   DESC_                VARCHAR(4000),
   FILE_DATE            TIMESTAMP         	NOT NULL,
   AUTHOR_ID            INTEGER           	NOT NULL,
   MODIFIER_ID          INTEGER,
   MODIFIED_DATE        TIMESTAMP,
   CONSTRAINT BSPK_INSURANCE_TYPE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_INSURANCE_TYPE IS '车辆保单险种';
COMMENT ON COLUMN BS_INSURANCE_TYPE.PID IS '所属模板的ID';
COMMENT ON COLUMN BS_INSURANCE_TYPE.STATUS_ IS '状态：0-正常,1-禁用';
COMMENT ON COLUMN BS_INSURANCE_TYPE.TYPE_ IS '险种类型 0-险种，1-模板';
COMMENT ON COLUMN BS_INSURANCE_TYPE.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_INSURANCE_TYPE.NAME IS '险种名称';
COMMENT ON COLUMN BS_INSURANCE_TYPE.COVERAGE IS '保额';
COMMENT ON COLUMN BS_INSURANCE_TYPE.DESC_ IS '备注';
COMMENT ON COLUMN BS_INSURANCE_TYPE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_INSURANCE_TYPE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_INSURANCE_TYPE.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_INSURANCE_TYPE.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_INSURANCE_TYPE ADD CONSTRAINT BSFK_INSURANCETYPE_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INSURANCE_TYPE ADD CONSTRAINT BSFK_INSURANCETYPE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INSURANCE_TYPE ADD CONSTRAINT BSFK_INSURANCETYPE_PID FOREIGN KEY (PID)
			REFERENCES BS_INSURANCE_TYPE (ID);
			
-- 从交委WebService接口同步的交通违章信息
CREATE TABLE BS_SYNC_JIAOWEI_JTWF (
    ID INTEGER NOT NULL,
    UNIT_NAME VARCHAR(255),
    MOTORCADE_NAME VARCHAR(255),
    HAPPEN_DATE TIMESTAMP NOT NULL,
    CAR_PLATE_TYPE VARCHAR(100) NOT NULL,
    CAR_PLATE_NO VARCHAR(100) NOT NULL,
    DRIVER_CERT VARCHAR(255),
    DRIVER_NAME VARCHAR(255),
    JEOM NUMERIC(10,1) NOT NULL,
    COMPANY_NAME VARCHAR(255),
    CONTENT VARCHAR(4000) NOT NULL,
    CONSTRAINT BSPK_SYNC_JIAOWEI_JTWF PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SYNC_JIAOWEI_JTWF IS '交委WebService接口的交通违章信息';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.UNIT_NAME IS '分公司';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.MOTORCADE_NAME IS '所属车队';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.HAPPEN_DATE IS '违章时间';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.CONTENT IS '违章内容';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.CAR_PLATE_TYPE IS '车牌类型';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.CAR_PLATE_NO IS '车牌号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.DRIVER_NAME IS '当事司机姓名';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.DRIVER_CERT IS '服务资格证';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.JEOM IS '本次扣分';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_JTWF.COMPANY_NAME IS '单位名称';
ALTER TABLE BS_SYNC_JIAOWEI_JTWF ADD CONSTRAINT BSFK_JIAOWEIJTWF2BASE FOREIGN KEY (ID)
      REFERENCES BC_SYNC_BASE (ID);
CREATE INDEX BCIDX_JIAOWEIJTWF_DRIVER_CERT ON BS_SYNC_JIAOWEI_JTWF (DRIVER_CERT);
CREATE INDEX BCIDX_JIAOWEIJTWF_CAR_PLATE ON BS_SYNC_JIAOWEI_JTWF (CAR_PLATE_TYPE,CAR_PLATE_NO);

-- 从交委WebService接口同步的营运违章信息
CREATE TABLE BS_SYNC_JIAOWEI_YYWZ (
    ID					INTEGER NOT NULL,
    C_ID				VARCHAR(255) NOT NULL,
    UNIT_NAME 			VARCHAR(255),
    MOTORCADE_NAME 		VARCHAR(255),
    STATUS				VARCHAR(100),
    CERT_KJ				VARCHAR(255),
    OPERATOR			VARCHAR(255),
    OPERATE_UNIT        VARCHAR(255),
    VIDEO_OPERATER      VARCHAR(255),
    DRIVER_NAME			VARCHAR(255),
    IDCARD_TYPE         VARCHAR(255),
    IDCARD_CODE         VARCHAR(255),
    CAR_PLATE			VARCHAR(255),
    COMPANY				VARCHAR(255),
    ADDRESS             VARCHAR(1000),
    OWNER               VARCHAR(255),
    OWNER_ID            VARCHAR(100),
    BS_CERT_NO          VARCHAR(255),
    CONTENT				VARCHAR(4000) NOT NULL,
    HAPPEN_DATE         TIMESTAMP NOT NULL,
    EVIDENCE_UNIT       VARCHAR(255),
    WZ_TYPE				VARCHAR(255),
    BUSLINES			VARCHAR(255),
    CARPLATE_COLOR		VARCHAR(100),
    DRIVER_CERT			VARCHAR(255),
    COMMIT_STATUS		VARCHAR(255),
    RECEIPT             VARCHAR(255),
    NOTICE				VARCHAR(255),
    CERT_YY             VARCHAR(255),
    SEATING				NUMERIC(10,1),
    OWE_RECORD          VARCHAR(255),
    OWE_SIGNATURE		VARCHAR(255),
    LEAVE_TROOPS		VARCHAR(255),
    AREA                VARCHAR(255),
    CLOSE_DATE          TIMESTAMP,
    DESC_               VARCHAR(4000),
    CLONE               VARCHAR(4000),
    SUBJECT             VARCHAR(1000),
    DETAIN              VARCHAR(255),
    PULL_UNIT           VARCHAR(255),
    PENALTY             NUMERIC(10,2),
    CONSTRAINT BSPK_SYNC_JIAOWEI_YYWZ PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SYNC_JIAOWEI_YYWZ IS '交委WebService接口的营运违章信息';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.UNIT_NAME IS '分公司';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.MOTORCADE_NAME IS '所属车队';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.STATUS IS '状态';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CERT_KJ IS '扣件证号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OPERATOR IS '执法人';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OPERATE_UNIT IS '执法分队';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.VIDEO_OPERATER IS '摄录员';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.DRIVER_NAME IS '当事人';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.IDCARD_TYPE IS '身份证明类型';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.IDCARD_CODE IS '身份证明编号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CAR_PLATE IS '违章主体';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.COMPANY IS '违章企业';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.ADDRESS IS '违章地段';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OWNER IS '业户名称';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OWNER_ID IS '业户ID';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.BS_CERT_NO IS '经营许可证号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CONTENT IS '违章内容';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.EVIDENCE_UNIT IS '证物保存单位';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.WZ_TYPE IS '违章类型';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.BUSLINES IS '公交线路';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CARPLATE_COLOR IS '车牌颜色';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.DRIVER_CERT IS '资格证号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.COMMIT_STATUS IS '提交状态';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.RECEIPT IS '罚没收据编号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.NOTICE IS '放行通知书编号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CERT_YY IS '营运证号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.SEATING IS '座位数';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OWE_RECORD IS '欠笔录';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.OWE_SIGNATURE IS '欠签名';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.LEAVE_TROOPS IS '留队部';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.AREA IS '所属区县';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CLOSE_DATE IS '结案日期';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.DESC_ IS '备注';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.CLONE IS '是否克隆车';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.SUBJECT IS '违章项目';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.DETAIN IS '扣留物品';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.PULL_UNIT IS '拖车单位';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_YYWZ.PENALTY IS '罚款';
ALTER TABLE BS_SYNC_JIAOWEI_YYWZ ADD CONSTRAINT BSFK_JIAOWEIYYWZBASE FOREIGN KEY (ID)
      REFERENCES BC_SYNC_BASE (ID);
CREATE INDEX BCIDX_JIAOWEIYYWZ_DRIVER_CERT ON BS_SYNC_JIAOWEI_YYWZ (DRIVER_CERT);


-- 从交委WebService接口同步的投诉与建议信息
CREATE TABLE BS_SYNC_JIAOWEI_ADVICE (
    ID					INTEGER NOT NULL,
    C_ID				VARCHAR(255) NOT NULL,
    UNIT_NAME 			VARCHAR(255),
    MOTORCADE_NAME 		VARCHAR(255),
    RECEIVE_CODE        VARCHAR(255),
    ADVISOR_NAME        VARCHAR(255) NOT NULL,
    PATH_FROM           VARCHAR(255),
    PATH_TO             VARCHAR(255),
    RIDING_TIME_START   TIMESTAMP,
    RIDING_TIME_END     TIMESTAMP,
    ADVISOR_SEX         VARCHAR(100),
    ADVISOR_AGE         NUMERIC(3,0),
    ADVISOR_PHONE       VARCHAR(255),
    ADVISOR_CERT        VARCHAR(255),
    OLD_UNIT_NAME       VARCHAR(255),
    CAR_PLATE			VARCHAR(255),
    DRIVER_CERT			VARCHAR(255),
    DRIVER_CHAR         VARCHAR(255),
    CONTENT				VARCHAR(4000) NOT NULL,
    RECEIVE_DATE        TIMESTAMP,
    RESULT_             VARCHAR(4000),
    ADVICE_TYPE			VARCHAR(255),
    ADVICE_BS			VARCHAR(255),
    SUBJECT             VARCHAR(255),
    SUBJECT2            VARCHAR(255),
    MACHINE_PRICE       VARCHAR(255),
    TICKET              VARCHAR(255),
    CHARGE              VARCHAR(255),
    DRIVER_SEX          VARCHAR(10),
    SUGGEST_BS			VARCHAR(255),
    BUSLINES            VARCHAR(255),
    BUS_COLOR			VARCHAR(255),
    REPLY				VARCHAR(255),
    CONSTRAINT BSPK_SYNC_JIAOWEI_ADVICE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SYNC_JIAOWEI_ADVICE IS '交委WebService接口的投诉与建议信息';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.UNIT_NAME IS '分公司';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.MOTORCADE_NAME IS '所属车队';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.RECEIVE_CODE IS '电话受理号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVISOR_NAME IS '投诉人姓名';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.PATH_FROM IS '乘车路线(从)';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.PATH_TO IS '乘车路线(到)';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.RIDING_TIME_START IS '乘车起始时间';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.RIDING_TIME_END IS '乘车结束时间';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVISOR_SEX IS '投诉人性别';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVISOR_AGE IS '投诉人年龄';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVISOR_PHONE IS '投诉人电话';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVISOR_CERT IS '投诉人证件号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.OLD_UNIT_NAME IS '车属单位';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.CAR_PLATE IS '车牌号码';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.DRIVER_CERT IS '资格证号';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.DRIVER_CHAR IS '司机特征';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.CONTENT IS '投诉内容';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.RECEIVE_DATE IS '受理时间';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.RESULT_ IS '处理结果';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVICE_TYPE IS '投诉或建议';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.ADVICE_BS IS '投诉行业';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.SUBJECT IS '投诉项目大类';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.SUBJECT2 IS '投诉项目小类';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.MACHINE_PRICE IS '计费器显示价格';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.TICKET IS '车票号码';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.CHARGE IS '实际收费';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.DRIVER_SEX IS '司机性别';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.SUGGEST_BS IS '建议行业';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.BUSLINES IS '公交线路或站场';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.BUS_COLOR IS '颜色';
COMMENT ON COLUMN BS_SYNC_JIAOWEI_ADVICE.REPLY IS '是否回复';
ALTER TABLE BS_SYNC_JIAOWEI_ADVICE ADD CONSTRAINT BSFK_JIAOWEIADVICEBASE FOREIGN KEY (ID)
      REFERENCES BC_SYNC_BASE (ID);
CREATE INDEX BCIDX_JIAOWEIADVICE_DRIVER_CERT ON BS_SYNC_JIAOWEI_ADVICE (DRIVER_CERT);

-- 从金盾网抓取的交通违法信息
CREATE TABLE BS_SYNC_JINDUN_JTWF (
    ID INTEGER NOT NULL,
    UNIT_NAME VARCHAR(255),
    MOTORCADE_NAME VARCHAR(255),
    CAR_TYPE VARCHAR(10) NOT NULL,
    CAR_TYPE_DESC VARCHAR(100) NOT NULL,
    CAR_PLATE_TYPE VARCHAR(100) NOT NULL,
    CAR_PLATE_NO VARCHAR(100) NOT NULL,
    ENGINE_NO VARCHAR(255),
    HAPPEN_DATE TIMESTAMP NOT NULL,
    ADDRESS VARCHAR(1000),
    DRIVER_NAME VARCHAR(255),
    JEOM NUMERIC(10,1) NOT NULL,
    PENALTY NUMERIC(10,1) NOT NULL,
    OVERDUE_PAYMENT NUMERIC(10,1) NOT NULL,
    DECISION_NO VARCHAR(255),
    DECISION_TYPE VARCHAR(255),
    SOURCE VARCHAR(255),
    TRAFFIC VARCHAR(255),
    BREAK_TYPE VARCHAR(255),
    CONSTRAINT BSPK_SYNC_JINDUN_JTWF PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SYNC_JINDUN_JTWF IS '从金盾网抓取的交通违法信息';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.UNIT_NAME IS '分公司';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.MOTORCADE_NAME IS '所属车队';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.HAPPEN_DATE IS '违法时间';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.CAR_TYPE IS '号牌种类';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.CAR_TYPE_DESC IS '号牌种类的中文描述';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.CAR_PLATE_TYPE IS '车牌类型';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.CAR_PLATE_NO IS '车牌号';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.ENGINE_NO IS '发动机号';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.DRIVER_NAME IS '当事人';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.JEOM IS '违法记分数';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.ADDRESS IS '违法地点';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.DECISION_NO IS '决定书编号';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.DECISION_TYPE IS '决定书类别';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.SOURCE IS '违法来源';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.PENALTY IS '罚款金额';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.OVERDUE_PAYMENT IS '滞纳金';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.TRAFFIC IS '交通方式';
COMMENT ON COLUMN BS_SYNC_JINDUN_JTWF.BREAK_TYPE IS '违法行为';
ALTER TABLE BS_SYNC_JINDUN_JTWF ADD CONSTRAINT BSFK_JINDUNJTWF2BASE FOREIGN KEY (ID)
      REFERENCES BC_SYNC_BASE (ID);
CREATE INDEX BCIDX_JINDUNJTWF_CAR ON BS_SYNC_JINDUN_JTWF (CAR_PLATE_TYPE,CAR_PLATE_NO);

-- 证照遗失管理
CREATE TABLE BS_CERT_LOST(
   ID                   INTEGER           	NOT NULL,
   CAR_ID             	INTEGER,
   MOTORCADE_ID       	INTEGER,
   DRIVER_ID       		INTEGER,
   DRIVER				VARCHAR(255),
   SUBJECT              VARCHAR(255),
   LOST_DATE            TIMESTAMP,
   TRANSACTOR_ID        INTEGER,
   TRANSACTOR_NAME      VARCHAR(255),
   DESC_                VARCHAR(4000),
   FILE_DATE            TIMESTAMP     		NOT NULL,
   AUTHOR_ID            INTEGER           	NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   CONSTRAINT BSPK_CERT_LOST PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CERT_LOST IS '证照遗失管理';
COMMENT ON COLUMN BS_CERT_LOST.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CERT_LOST.MOTORCADE_ID IS '车队ID';
COMMENT ON COLUMN BS_CERT_LOST.DRIVER_ID IS '司机ID';
COMMENT ON COLUMN BS_CERT_LOST.DRIVER IS '司机';
COMMENT ON COLUMN BS_CERT_LOST.SUBJECT IS '标题';
COMMENT ON COLUMN BS_CERT_LOST.LOST_DATE IS '遗失日期';
COMMENT ON COLUMN BS_CERT_LOST.TRANSACTOR_ID IS '经办人ID';
COMMENT ON COLUMN BS_CERT_LOST.TRANSACTOR_NAME IS '经办人';
COMMENT ON COLUMN BS_CERT_LOST.DESC_ IS '备注';
COMMENT ON COLUMN BS_CERT_LOST.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CERT_LOST.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CERT_LOST.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CERT_LOST.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_CERT_LOST ADD CONSTRAINT BSFK_PAPERLOST_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CERT_LOST ADD CONSTRAINT BSFK_PAPERLOST_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CERT_LOST ADD CONSTRAINT BSFK_PAPERLOST_TRANSACTOR FOREIGN KEY (TRANSACTOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CERT_LOST ADD CONSTRAINT BSFK_PAPERLOST_CAR FOREIGN KEY (CAR_ID )
      REFERENCES BS_CAR (ID);
CREATE INDEX BSIDX_PAPER_LOST ON BS_CERT_LOST (CAR_ID);

-- 遗失的证照
CREATE TABLE BS_CERT_LOST_ITEM(
   ID                   INTEGER          NOT NULL,
   PID                  INTEGER          NOT NULL,
   CERT_NAME           	VARCHAR(255)       NOT NULL,
   IS_REPLACE           BOOLEAN            DEFAULT FALSE,
   REPLACE_DATE         TIMESTAMP,
   REASON          		VARCHAR(255)       NOT NULL,
   LOST_ADDRESS			VARCHAR(4000),
   CERT_NO		        VARCHAR(255),
   NEW_CERT_NO		    VARCHAR(255),
   IS_REMAINS           BOOLEAN            DEFAULT FALSE,
   ALARMUNIT 			VARCHAR(4000),
   DESC_                VARCHAR(4000),
   CONSTRAINT BSPK_PAPER_LOST_ITEM PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CERT_LOST_ITEM IS '遗失的证照';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.PID IS '所属证照遗失管理表ID';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.CERT_NAME IS '证照名称';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.IS_REPLACE IS '是否补办';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.REPLACE_DATE IS '补办日期';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.REASON IS '补办原因';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.LOST_ADDRESS IS '遗失地点';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.CERT_NO IS '证件号码';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.NEW_CERT_NO IS '新证件号码';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.IS_REMAINS IS '是否有残骸';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.ALARMUNIT IS '报警单位';
COMMENT ON COLUMN BS_CERT_LOST_ITEM.DESC_ IS '备注';
ALTER TABLE BS_CERT_LOST_ITEM ADD CONSTRAINT BSFK_LOSTITEM_BASE FOREIGN KEY (PID)
      REFERENCES BS_CERT_LOST (ID);							

-- LPG配置模块
CREATE TABLE BS_CAR_LPGMODEL(
	ID  INTEGER  NOT NULL,
	STATUS_ INTEGER NOT NULL,
	ORDER_ 	VARCHAR(100),
	NAME_	VARCHAR(255) NOT NULL,
	FULL_NAME VARCHAR(255),
	MODEL VARCHAR(255),
	GP_MODEL VARCHAR(255),
	JCF_MODEL VARCHAR(255),
	QHQ_MODEL VARCHAR(255),
	PSQ_MODEL VARCHAR(255),
	DESC_ VARCHAR(4000),
	FILE_DATE            TIMESTAMP	NOT NULL,
	AUTHOR_ID            INTEGER		NOT NULL,
	MODIFIER_ID          INTEGER,
	MODIFIED_DATE        TIMESTAMP,
	CONSTRAINT BSPK_CAR_LPGMODEL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_LPGMODEL IS 'LPG配置';
COMMENT ON COLUMN BS_CAR_LPGMODEL.STATUS_ IS '状态：0-在案,1-注销';
COMMENT ON COLUMN BS_CAR_LPGMODEL.NAME_ IS '名称，如：兰天达';
COMMENT ON COLUMN BS_CAR_LPGMODEL.FULL_NAME IS '专用装置供应商，如:北京兰天达';
COMMENT ON COLUMN BS_CAR_LPGMODEL.MODEL IS '专用装置品牌型号';
COMMENT ON COLUMN BS_CAR_LPGMODEL.GP_MODEL IS '钢瓶品牌型号';
COMMENT ON COLUMN BS_CAR_LPGMODEL.JCF_MODEL IS '集成阀品牌型号';
COMMENT ON COLUMN BS_CAR_LPGMODEL.QHQ_MODEL IS '汽化器品牌型号';
COMMENT ON COLUMN BS_CAR_LPGMODEL.PSQ_MODEL IS '混合/喷射器品牌型号';
COMMENT ON COLUMN BS_CAR_LPGMODEL.DESC_ IS '描述';
COMMENT ON COLUMN BS_CAR_LPGMODEL.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_LPGMODEL.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_LPGMODEL.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_CAR_LPGMODEL.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_CAR_LPGMODEL ADD CONSTRAINT BSFK_CAR_LPGMODEL_AUTHORID FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_LPGMODEL ADD CONSTRAINT BSFK_CAR_LPGMODEL_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_CAR_LPGMODEL_STATUS ON BS_CAR_LPGMODEL (STATUS_);


-- 发票管理
-- 发票采购单
CREATE TABLE BS_INVOICE_BUY (
   ID                   INTEGER           	NOT NULL,
   STATUS_              NUMERIC(1)			NOT NULL,
   COMPANY              VARCHAR(255)		NOT NULL,
   CODE                 VARCHAR(255)		NOT NULL,
   TYPE_                NUMERIC(1)			NOT NULL,
   START_NO             VARCHAR(255)		NOT NULL,
   END_NO               VARCHAR(255)		NOT NULL,
   COUNT_               INTEGER           	NOT NULL,
   EACH_COUNT			INTEGER				NOT NULL,
   UNIT_                INTEGER            	NOT NULL,
   BUY_PRICE            NUMERIC(10,2)		NOT NULL,
   SELL_PRICE           NUMERIC(10,2)		NOT NULL,
   BUYER_ID             INTEGER,
   BUY_DATE             TIMESTAMP			NOT NULL,
   FILE_DATE            TIMESTAMP			NOT NULL,
   AUTHOR_ID            INTEGER           	NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   DESC_                VARCHAR(4000),
   CONSTRAINT BSPK_INVOICE_BUY PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_INVOICE_BUY IS '发票采购单';
COMMENT ON COLUMN BS_INVOICE_BUY.STATUS_ IS '状态:0-正常,1-作废';
COMMENT ON COLUMN BS_INVOICE_BUY.COMPANY IS '公司';
COMMENT ON COLUMN BS_INVOICE_BUY.CODE IS '发票代码';
COMMENT ON COLUMN BS_INVOICE_BUY.TYPE_ IS '发票类型:1-打印票,2-手撕票';
COMMENT ON COLUMN BS_INVOICE_BUY.START_NO IS '开始号';
COMMENT ON COLUMN BS_INVOICE_BUY.END_NO IS '结束号';
COMMENT ON COLUMN BS_INVOICE_BUY.COUNT_ IS '采购数量';
COMMENT ON COLUMN BS_INVOICE_BUY.EACH_COUNT IS '每(卷/本)数量';
COMMENT ON COLUMN BS_INVOICE_BUY.UNIT_ IS '单位:1-卷,2-本;每卷100张';
COMMENT ON COLUMN BS_INVOICE_BUY.BUY_PRICE IS '采购单价';
COMMENT ON COLUMN BS_INVOICE_BUY.SELL_PRICE IS '销售单价';
COMMENT ON COLUMN BS_INVOICE_BUY.BUYER_ID IS '采购人ID';
COMMENT ON COLUMN BS_INVOICE_BUY.BUY_DATE IS '采购日期';
COMMENT ON COLUMN BS_INVOICE_BUY.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_INVOICE_BUY.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_INVOICE_BUY.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_INVOICE_BUY.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_INVOICE_BUY.DESC_ IS '备注';
ALTER TABLE BS_INVOICE_BUY ADD CONSTRAINT BSFK_INVOICEBUY_BUYER FOREIGN KEY (BUYER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INVOICE_BUY ADD CONSTRAINT BSFK_INVOICEBUY_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INVOICE_BUY ADD CONSTRAINT BSFK_INVOICEBUY_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_INVOICEBUY_COMPANY ON BS_INVOICE_BUY (COMPANY);
CREATE INDEX BSIDX_INVOICEBUY_STARTNO ON BS_INVOICE_BUY (START_NO);
CREATE INDEX BSIDX_INVOICEBUY_ENDNO ON BS_INVOICE_BUY (END_NO);

-- 发票销售单
CREATE TABLE BS_INVOICE_SELL (
   ID                   INTEGER          	NOT NULL,
   STATUS_              NUMERIC(1)      	NOT NULL,
   BUYER_ID             INTEGER,
   BUYER_NAME           VARCHAR(255),
   CAR_ID               INTEGER          	NOT NULL,
   CAR_PLATE            VARCHAR(255)		NOT NULL,
   MOTORCADE_ID        	INTEGER           	NOT NULL,
   COMPANY              VARCHAR(255)		NOT NULL,
   SELL_DATE            TIMESTAMP      		NOT NULL,
   CASHIER_ID           INTEGER           	NOT NULL,
   PAY_TYPE             NUMERIC(1)      	NOT NULL,
   BANK_CODE            VARCHAR(255),
   DESC_                VARCHAR(4000),
   FILE_DATE            TIMESTAMP      		NOT NULL,
   AUTHOR_ID           	INTEGER          	NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   CONSTRAINT BSPK_INVOICE_SELL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_INVOICE_SELL IS '发票销售单';
COMMENT ON COLUMN BS_INVOICE_SELL.STATUS_ IS '状态:0-正常,1-作废';
COMMENT ON COLUMN BS_INVOICE_SELL.BUYER_ID IS '购买人ID';
COMMENT ON COLUMN BS_INVOICE_SELL.BUYER_NAME IS '购买人姓名';
COMMENT ON COLUMN BS_INVOICE_SELL.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_INVOICE_SELL.CAR_PLATE IS '车牌';
COMMENT ON COLUMN BS_INVOICE_SELL.MOTORCADE_ID IS '车队ID';
COMMENT ON COLUMN BS_INVOICE_SELL.COMPANY IS '公司';
COMMENT ON COLUMN BS_INVOICE_SELL.SELL_DATE IS '销售日期';
COMMENT ON COLUMN BS_INVOICE_SELL.CASHIER_ID IS '收银员ID';
COMMENT ON COLUMN BS_INVOICE_SELL.PAY_TYPE IS '收款方式';
COMMENT ON COLUMN BS_INVOICE_SELL.BANK_CODE IS '银行流水号';
COMMENT ON COLUMN BS_INVOICE_SELL.DESC_ IS '备注';
COMMENT ON COLUMN BS_INVOICE_SELL.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_INVOICE_SELL.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_INVOICE_SELL.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_INVOICE_SELL.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_BUYER FOREIGN KEY (BUYER_ID)
      REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_MOTORCADE FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_CASHIER FOREIGN KEY (CASHIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_INVOICE_SELL ADD CONSTRAINT BSFK_INVOICESELL_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
CREATE INDEX BSIDX_INVOICESELL_COMPANY ON BS_INVOICE_SELL (COMPANY);
CREATE INDEX BSIDX_INVOICESELL_BUYER ON BS_INVOICE_SELL (BUYER_ID);
CREATE INDEX BSIDX_INVOICESELL_CAR ON BS_INVOICE_SELL (CAR_ID);
CREATE INDEX BSIDX_INVOICESELL_MOTORCADE ON BS_INVOICE_SELL (MOTORCADE_ID);

-- 发票销售明细
CREATE TABLE BS_INVOICE_SELL_DETAIL (
   ID                   INTEGER          	NOT NULL,
   STATUS_ 				numeric(1,0) DEFAULT 0 NOT NULL,
   SELL_ID              INTEGER          	NOT NULL,
   BUY_ID               INTEGER          	NOT NULL,
   COUNT_               INTEGER          	NOT NULL,
   PRICE                NUMERIC(10,2)    	NOT NULL,
   START_NO             VARCHAR(255) 		NOT NULL,
   END_NO               VARCHAR(255)  		NOT NULL,
   CONSTRAINT BSPK_INVOICE_SELL_DETAIL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_INVOICE_SELL_DETAIL IS '发票销售明细';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.STATUS_ IS '状态:0-正常,1-作废;要保证与所属销售单的状态相等';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.SELL_ID IS '所属销售单ID';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.BUY_ID IS '对应采购单ID';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.COUNT_ IS '销售数量';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.PRICE IS '销售单价';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.START_NO IS '开始号';
COMMENT ON COLUMN BS_INVOICE_SELL_DETAIL.END_NO IS '结束号';
ALTER TABLE BS_INVOICE_SELL_DETAIL ADD CONSTRAINT BSFK_INVOICESELLDETAIL_BUY FOREIGN KEY (BUY_ID)
      REFERENCES BS_INVOICE_BUY (ID);
ALTER TABLE BS_INVOICE_SELL_DETAIL ADD CONSTRAINT BSFK_INVOICESELLDETAIL_SELL FOREIGN KEY (SELL_ID)
      REFERENCES BS_INVOICE_SELL (ID); 
CREATE INDEX BSIDX_INVOICESELLDETAIL_STARTNO ON BS_INVOICE_SELL_DETAIL (START_NO);
CREATE INDEX BSIDX_INVOICESELLDETAIL_ENDNO ON BS_INVOICE_SELL_DETAIL (END_NO);
CREATE INDEX BSIDX_INVOICESELLDETAIL_BUYID ON BS_INVOICE_SELL_DETAIL (BUY_ID);

-- 经营权管理
CREATE TABLE BS_CAR_OWNERSHIP(
   ID                   INTEGER           	NOT NULL, 
   CAR_ID               INTEGER           	NOT NULL,
   NATURE       	VARCHAR(255),
   SITUATION       	VARCHAR(255),
   OWNER_		VARCHAR(255),
   DESC_                VARCHAR(4000),
   FILE_DATE            TIMESTAMP     		NOT NULL,
   AUTHOR_ID            INTEGER           	NOT NULL,
   MODIFIED_DATE        TIMESTAMP,
   MODIFIER_ID          INTEGER,
   CONSTRAINT BSPK_CAR_OWNERSHIP PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CAR_OWNERSHIP IS '经营权管理';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.NATURE IS '经营权性质';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.SITUATION IS '经营权情况';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.OWNER_ IS '车辆产权';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.DESC_ IS '备注';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_CAR_OWNERSHIP.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_CAR_OWNERSHIP ADD CONSTRAINT BSFK_OWNERSHIP_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_OWNERSHIP ADD CONSTRAINT BSFK_OWNERSHIP_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_CAR_OWNERSHIP ADD CONSTRAINT BSFK_OWNERSHIP_CAR FOREIGN KEY (CAR_ID )
      REFERENCES BS_CAR (ID);
CREATE INDEX BSIDX_CAR_OWNERSHIP ON BS_CAR_OWNERSHIP (ID);

-- 报失
CREATE TABLE BS_CASE_LOST (
   ID                   INTEGER           NOT NULL,
   RECEIVE_DATE         TIMESTAMP,
   OWNER_NAME           VARCHAR(255), 
   OWNER_SEX            NUMERIC(1),
   OWNER_TEL		VARCHAR(255),
   OWNER_UNIT		VARCHAR(255),
   PATH                 VARCHAR(255),
   PASSENGER_COUNT      NUMERIC(1),
   DRIVER_SEX           NUMERIC(1),
   DRIVER_FEATURE       VARCHAR(255),
   TICKET               VARCHAR(255),
   MACHINE_PRICE        NUMERIC(10),
   CHARGE               NUMERIC(10),
   DESC2		VARCHAR(4000),
   MONEY		NUMERIC(10,2),
   ITEMS		VARCHAR(255),
   SITE_POSTION		INTEGER,
   LEVEL		INTEGER,
   IS_TOOK              BOOLEAN            DEFAULT FALSE,
   TOOK_DATE		TIMESTAMP,
   TAKER_NAME		VARCHAR(255),
   TAKER_AGE    INTEGER,
   TAKER_UNIT		VARCHAR(255),
   TAKER_TEL		VARCHAR(255),
   TAKER_SEX            NUMERIC(1),
   TAKER_IDENTITY       VARCHAR(255),
   RESULT_		INTEGER,
   RETRUN_DATE		TIMESTAMP,
   REPLY_DATE		TIMESTAMP,
   HANDLE_RESULT      	INTEGER,
   TRANSACTOR_ID        INTEGER,
   TRANSACTOR_NAME      VARCHAR(255),
   CONSTRAINT BSPK_CASE_LOST PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CASE_LOST IS '报失';
COMMENT ON COLUMN BS_CASE_LOST.RECEIVE_DATE IS '接报失时间';
COMMENT ON COLUMN BS_CASE_LOST.OWNER_NAME IS '报失人';
COMMENT ON COLUMN BS_CASE_LOST.OWNER_SEX IS '报失人性别:0-未设,1-男,2-女';
COMMENT ON COLUMN BS_CASE_LOST.OWNER_TEL IS '报失人号码';
COMMENT ON COLUMN BS_CASE_LOST.OWNER_UNIT IS '报失人单位';
COMMENT ON COLUMN BS_CASE_LOST.PATH IS '乘车路线';
COMMENT ON COLUMN BS_CASE_LOST.PASSENGER_COUNT IS '乘车人数';
COMMENT ON COLUMN BS_CASE_LOST.DRIVER_SEX IS '司机性别:0-未设,1-男,2-女';
COMMENT ON COLUMN BS_CASE_LOST.DRIVER_FEATURE IS '司机特征';
COMMENT ON COLUMN BS_CASE_LOST.TICKET IS '车票号码';
COMMENT ON COLUMN BS_CASE_LOST.MACHINE_PRICE IS '计费器显示价格';
COMMENT ON COLUMN BS_CASE_LOST.CHARGE IS '实际收费';
COMMENT ON COLUMN BS_CASE_LOST.DESC2 IS '领取备注';
COMMENT ON COLUMN BS_CASE_LOST.MONEY IS '估算价值';
COMMENT ON COLUMN BS_CASE_LOST.ITEMS IS '报失物品';
COMMENT ON COLUMN BS_CASE_LOST.SITE_POSTION IS '遗失位置';
COMMENT ON COLUMN BS_CASE_LOST.LEVEL IS '级别';
COMMENT ON COLUMN BS_CASE_LOST.IS_TOOK IS '是否领取 true:为已领,false:未领';
COMMENT ON COLUMN BS_CASE_LOST.TOOK_DATE IS '领取时间';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_NAME IS '领取人';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_AGE IS '领取人年龄';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_UNIT IS '领取人单位';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_TEL IS '领取人电话';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_SEX IS '领取人性别';
COMMENT ON COLUMN BS_CASE_LOST.TAKER_IDENTITY IS '领取人身份证';
COMMENT ON COLUMN BS_CASE_LOST.RESULT_ IS '失物去向 -1 : 空 0:交回公司 1:交给乘客 2:找不到失物 3:待查';
COMMENT ON COLUMN BS_CASE_LOST.RETRUN_DATE IS '交还时间';
COMMENT ON COLUMN BS_CASE_LOST.REPLY_DATE IS '回复时间';
COMMENT ON COLUMN BS_CASE_LOST.HANDLE_RESULT IS '处理结果 1:司机主动交回 2:公司致电司机确认有 3:公司致电司机确认无但交车队或报警处理有 4:确认无';
COMMENT ON COLUMN BS_CASE_LOST.TRANSACTOR_ID IS '经办人ID';
COMMENT ON COLUMN BS_CASE_LOST.TRANSACTOR_NAME IS '经办人姓名';
ALTER TABLE BS_CASE_LOST ADD CONSTRAINT BSFK_LOST_CASEBASE FOREIGN KEY (ID)
      REFERENCES BS_CASE_BASE (ID);
ALTER TABLE BS_CASE_LOST ADD CONSTRAINT BSFK_LOST_TRANSACTOR FOREIGN KEY (TRANSACTOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);

--费用模板表
CREATE TABLE BS_FEE_TEMPLATE(
	ID	INTEGER	NOT NULL,
	STATUS_	INT	NOT NULL,
	MODULE_ VARCHAR(255),
	TYPE_	INT,
	PID INTEGER,
	ORDER_ VARCHAR(255),
	CODE VARCHAR(255) NOT NULL,
	NAME VARCHAR(255) NOT NULL,
	PRICE NUMERIC(10,2),
	COUNT_ INTEGER,
	PAY_TYPE	INTEGER,
	DESC_ VARCHAR(255),
	SPEC VARCHAR(255),
	FILE_DATE	TIMESTAMP	NOT NULL,
	AUTHOR_ID	INTEGER	NOT NULL,
	MODIFIED_DATE	TIMESTAMP,
	MODIFIER_ID	INTEGER,
	CONSTRAINT BSPK_FEE_TEMPLATE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_FEE_TEMPLATE IS '费用模板';
COMMENT ON COLUMN BS_FEE_TEMPLATE.STATUS_ IS '状态：0-正常，1-禁用';
COMMENT ON COLUMN BS_FEE_TEMPLATE.MODULE_ IS '所属模块';
COMMENT ON COLUMN BS_FEE_TEMPLATE.TYPE_ IS '类型：1-费用，0-模板';
COMMENT ON COLUMN BS_FEE_TEMPLATE.PID IS '所属模板';
COMMENT ON COLUMN BS_FEE_TEMPLATE.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_FEE_TEMPLATE.CODE IS '编码：全局唯一';
COMMENT ON COLUMN BS_FEE_TEMPLATE.NAME IS '名称';
COMMENT ON COLUMN BS_FEE_TEMPLATE.PRICE IS '金额';
COMMENT ON COLUMN BS_FEE_TEMPLATE.COUNT_ IS '数量';
COMMENT ON COLUMN BS_FEE_TEMPLATE.PAY_TYPE IS '收费方式: 1-每月，2-每季，3-每年，4-一次性';
COMMENT ON COLUMN BS_FEE_TEMPLATE.DESC_ IS '备注';
COMMENT ON COLUMN BS_FEE_TEMPLATE.SPEC IS '特殊配置:isByDriver:是否按司机填写数量;isDeadline:是否加入合同期限;isSplit:
是否拆分[按新承包合同的每月基准承包款的拆分规则拆分];lackPrice:不足一个月应交的承包款;cutPrice:每月承包款递减的金额';
COMMENT ON COLUMN BS_FEE_TEMPLATE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_FEE_TEMPLATE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_FEE_TEMPLATE.MODIFIED_DATE IS '最后修改时间';
COMMENT ON COLUMN BS_FEE_TEMPLATE.MODIFIER_ID IS '最后修改人ID';
ALTER TABLE BS_FEE_TEMPLATE ADD CONSTRAINT BSFK_FEE_TEMPLATE_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_FEE_TEMPLATE ADD CONSTRAINT BSFK_FEE_TEMPLATE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_FEE_TEMPLATE ADD CONSTRAINT BSFK_FEE_TEMPLATE_PID FOREIGN KEY (PID)
      REFERENCES BS_FEE_TEMPLATE (ID);
ALTER TABLE BS_FEE_TEMPLATE ADD CONSTRAINT BSUK_FEE_TEMPLATE_CODE UNIQUE (CODE);

-- 承包费
CREATE TABLE BS_FEE (
   ID					INTEGER 		NOT NULL,
   UID_					VARCHAR(36)		NOT NULL,
   STATUS_				INTEGER			NOT NULL,
   FEE_YEAR				INTEGER			NOT NULL,
   FEE_MONTH			INTEGER			NOT NULL,
   FEE_DATE				TIMESTAMP,
   COLLECTION_WAY		VARCHAR(255),
   S_SUBTOTAL			NUMERIC(10,2)	DEFAULT 0,
   S_UPKEEP				NUMERIC(10,2)	DEFAULT 0,
   S_TOTAL				NUMERIC(10,2)	DEFAULT 0,
   A_SUBTOTAL			NUMERIC(10,2)	DEFAULT 0,
   A_UPKEEP				NUMERIC(10,2)	DEFAULT 0,
   A_TOTAL				NUMERIC(10,2)	DEFAULT 0,
   R_SUBTOTAL			NUMERIC(10,2)	DEFAULT 0,
   R_UPKEEP				NUMERIC(10,2)	DEFAULT 0,
   R_TOTAL				NUMERIC(10,2)	DEFAULT 0,
   O_SUBTOTAL			NUMERIC(10,2)	DEFAULT 0,
   O_UPKEEP				NUMERIC(10,2)	DEFAULT 0,
   O_TOTAL				NUMERIC(10,2)	DEFAULT 0,
   SA_TOTAL1			NUMERIC(10,2)	DEFAULT 0,
   SA_TOTAL2			NUMERIC(10,2)	DEFAULT 0,
   COMPANY				VARCHAR(255),
   MOTORCADE_ID			INTEGER,
   MOTORCADE_NAME		VARCHAR(255),
   CAR_ID				INTEGER,
   CAR_PLATE			VARCHAR(255),
   PAYER_ID				INTEGER,
   PAYER_NAME			VARCHAR(255),
   DESC_				VARCHAR(4000),
   FILE_DATE			TIMESTAMP		NOT NULL,
   AUTHOR_ID			INTEGER			NOT NULL,
   MODIFIER_ID			INTEGER,
   MODIFIED_DATE		TIMESTAMP,
   CONSTRAINT BSPK_FEE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_FEE IS '承包费';
COMMENT ON COLUMN BS_FEE.STATUS_ IS '状态：0-在案,1-注销';
COMMENT ON COLUMN BS_FEE.FEE_YEAR IS '收费年';
COMMENT ON COLUMN BS_FEE.FEE_MONTH IS '收费月';
COMMENT ON COLUMN BS_FEE.FEE_DATE IS '收费日';
COMMENT ON COLUMN BS_FEE.COLLECTION_WAY IS '收款方式';
COMMENT ON COLUMN BS_FEE.S_SUBTOTAL IS '应收小计';
COMMENT ON COLUMN BS_FEE.S_UPKEEP IS '应收维修费';
COMMENT ON COLUMN BS_FEE.S_TOTAL IS '应收合计';
COMMENT ON COLUMN BS_FEE.A_SUBTOTAL IS '调整小计';
COMMENT ON COLUMN BS_FEE.A_UPKEEP IS '调整维修费';
COMMENT ON COLUMN BS_FEE.A_TOTAL IS '调整合计';
COMMENT ON COLUMN BS_FEE.R_SUBTOTAL IS '实收小计';
COMMENT ON COLUMN BS_FEE.R_UPKEEP IS '实收维修费';
COMMENT ON COLUMN BS_FEE.R_TOTAL IS '实收合计';
COMMENT ON COLUMN BS_FEE.O_SUBTOTAL IS '欠费小计';
COMMENT ON COLUMN BS_FEE.O_UPKEEP IS '欠费维修费';
COMMENT ON COLUMN BS_FEE.O_TOTAL IS '欠费合计';
COMMENT ON COLUMN BS_FEE.SA_TOTAL1 IS '本期应收款合计';
COMMENT ON COLUMN BS_FEE.SA_TOTAL2 IS '前期加本期应收合计';
COMMENT ON COLUMN BS_FEE.COMPANY IS '所属公司:如宝城、广发';
COMMENT ON COLUMN BS_FEE.MOTORCADE_ID IS '车队ID';
COMMENT ON COLUMN BS_FEE.MOTORCADE_NAME IS '车队名称';
COMMENT ON COLUMN BS_FEE.CAR_ID IS '车辆ID';
COMMENT ON COLUMN BS_FEE.CAR_PLATE IS '车辆号码';
COMMENT ON COLUMN BS_FEE.PAYER_ID IS '缴费人ID';
COMMENT ON COLUMN BS_FEE.PAYER_NAME IS '缴费人姓名';
COMMENT ON COLUMN BS_FEE.DESC_ IS '备注';
COMMENT ON COLUMN BS_FEE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_FEE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_FEE.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_FEE.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_FEE ADD CONSTRAINT BSFK_FEE_AUTHOR FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_FEE ADD CONSTRAINT BSFK_FEE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_FEE ADD CONSTRAINT BSFK_FEE_MOTORCADE FOREIGN KEY (MOTORCADE_ID)
      REFERENCES BS_MOTORCADE (ID);
ALTER TABLE BS_FEE ADD CONSTRAINT BSFK_FEE_CAR FOREIGN KEY (CAR_ID)
      REFERENCES BS_CAR (ID);
ALTER TABLE BS_FEE ADD CONSTRAINT BSFK_FEE_PAYER FOREIGN KEY (PAYER_ID)
      REFERENCES BS_CARMAN (ID);
ALTER TABLE BS_FEE ADD CONSTRAINT BSUQ_FEE UNIQUE (FEE_YEAR, FEE_MONTH, CAR_ID);
CREATE INDEX BSIDX_FEE_CAR ON BS_FEE (CAR_ID);

-- 承包费明细
CREATE TABLE BS_FEE_DETAIL(
   ID			INTEGER				NOT NULL,
   FID			INTEGER				NOT NULL,
   FEE_TYPE		INTEGER				NOT NULL,
   FEE_NAME		VARCHAR(255)		NOT NULL,
   CHARGE		NUMERIC(10,2)		DEFAULT 0,
   FEE_DESC		VARCHAR(4000),
   CONSTRAINT BSPK_FEE_DETAIL PRIMARY KEY (ID)
);
COMMENT ON COLUMN BS_FEE_DETAIL.FID IS '所属承包费ID';
COMMENT ON COLUMN BS_FEE_DETAIL.FEE_TYPE IS '明细类型';
COMMENT ON COLUMN BS_FEE_DETAIL.FEE_NAME IS '费用名称';
COMMENT ON COLUMN BS_FEE_DETAIL.CHARGE IS '金额';
COMMENT ON COLUMN BS_FEE_DETAIL.FEE_DESC IS '备注';
ALTER TABLE BS_FEE_DETAIL ADD CONSTRAINT BSFK_FEE_BASE FOREIGN KEY (FID)
      REFERENCES BS_FEE (ID);	

-- 社保规则
CREATE TABLE BS_SOCIALSECURITYRULE(
	ID INTEGER NOT NULL,
	AREA_ID INTEGER NOT NULL,
	AREA_NAME VARCHAR(255) NOT NULL,
	START_YEAR INT NOT NULL,
	START_MONTH INT NOT NULL,
	HOUSE_TYPE VARCHAR(255) NOT NULL,
	FILE_DATE TIMESTAMP NOT NULL,
	AUTHOR_ID INTEGER NOT NULL,
	MODIFIER_ID INTEGER ,
	MODIFIED_DATE TIMESTAMP,
	CONSTRAINT BSPK_SOCIALSECURITYRULE PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SOCIALSECURITYRULE IS '社保规则';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.AREA_ID IS '使用区域ID';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.AREA_NAME IS '使用区域名称';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.START_YEAR IS '起始年';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.START_MONTH IS '起始月';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.HOUSE_TYPE IS '户口类型：本地城镇、本地农村、外地城镇、外地农村';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.FILE_DATE IS '创建时间';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.AUTHOR_ID IS '创建人ID';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.MODIFIER_ID IS '最后修改人ID';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE.MODIFIED_DATE IS '最后修改时间';
ALTER TABLE BS_SOCIALSECURITYRULE ADD CONSTRAINT BSFK_SOCIALSECURITYRULE_AUTHORID FOREIGN KEY (AUTHOR_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_SOCIALSECURITYRULE ADD CONSTRAINT BSFK_SOCIALSECURITYRULE_MODIFIER FOREIGN KEY (MODIFIER_ID)
      REFERENCES BC_IDENTITY_ACTOR_HISTORY (ID);
ALTER TABLE BS_SOCIALSECURITYRULE ADD CONSTRAINT BSFK_SOCIALSECURITYRULE_AREA_ID FOREIGN KEY (AREA_ID) 
	REFERENCES BC_PLACEORIGIN (ID);
	
-- 社保规则保险明细表
CREATE TABLE BS_SOCIALSECURITYRULE_DETAIL(
	ID INTEGER NOT NULL,
	PID INTEGER NOT NULL,
	NAME VARCHAR(255) NOT NULL,
	UNIT_RATE NUMERIC(10,2),
	PERSONAL_RATE NUMERIC(10,2),
	BASE_NUMBER NUMERIC(10,2),
	DESC_ VARCHAR(4000),
	CONSTRAINT BSPK_SOCIALSECURITYRULE_DETAIL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_SOCIALSECURITYRULE_DETAIL  IS '社保规则保险明细表';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.PID IS '所属社保规则ID';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.NAME IS '名称';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.UNIT_RATE IS '单位缴率';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.PERSONAL_RATE IS '个人缴率';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.BASE_NUMBER IS '基数';
COMMENT ON COLUMN BS_SOCIALSECURITYRULE_DETAIL.DESC_ IS '备注';
ALTER TABLE BS_SOCIALSECURITYRULE_DETAIL ADD CONSTRAINT BSFK_SOCIALSECURITYRULE_DETAIL_PID FOREIGN KEY (PID)
      REFERENCES BS_SOCIALSECURITYRULE(ID);

-- 收费明细
CREATE TABLE BS_CONTRACT_FEE_DETAIL (
   ID			INTEGER          NOT NULL,
   PID			INTEGER          NOT NULL,
   ORDER_		INTEGER,
   CODE			VARCHAR(255),
   NAME         VARCHAR(255)     NOT NULL,
   PRICE 		NUMERIC(10,2),
   COUNT_ 		INTEGER,
   PAY_TYPE		INTEGER,
   START_DATE	TIMESTAMP,
   END_DATE		TIMESTAMP,
   SPEC 		VARCHAR(255),
   DESC_		VARCHAR(4000),
   CONSTRAINT BSPK_CONTRACT_FEE_DETAIL PRIMARY KEY (ID)
);
COMMENT ON TABLE BS_CONTRACT_FEE_DETAIL IS '收费明细';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.PID IS '所属经济合同ID';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.ORDER_ IS '排序号';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.CODE IS '编码';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.NAME IS '项目';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.PRICE IS '金额';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.COUNT_ IS '数量';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.PAY_TYPE IS '收费方式';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.START_DATE IS '收费开始日期';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.PAY_TYPE IS '收费结束日期';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.SPEC IS '特殊配置:isByDriver:是否按司机填写数量;isDeadline:是否加入合同期限;isSplit:
是否拆分[按新承包合同的每月基准承包款的拆分规则拆分];lackPrice:不足一个月应交的承包款;cutPrice:每月承包款递减的金额';
COMMENT ON COLUMN BS_CONTRACT_FEE_DETAIL.DESC_ IS '备注';
ALTER TABLE BS_CONTRACT_FEE_DETAIL ADD CONSTRAINT BSFK_FEEDETAIL_CONTRACT4CHARGER FOREIGN KEY (PID)
      REFERENCES BS_CONTRACT (ID);
